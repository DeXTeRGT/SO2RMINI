<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
:root {
  --pcb-edge-color: black;
  --pad-color: #878787;
  --pad-hole-color: #CCCCCC;
  --pad-color-highlight: #D04040;
  --pad-color-highlight-both: #D0D040;
  --pad-color-highlight-marked: #44a344;
  --pin1-outline-color: #ffb629;
  --pin1-outline-color-highlight: #ffb629;
  --pin1-outline-color-highlight-both: #fcbb39;
  --pin1-outline-color-highlight-marked: #fdbe41;
  --silkscreen-edge-color: #aa4;
  --silkscreen-polygon-color: #4aa;
  --silkscreen-text-color: #4aa;
  --fabrication-edge-color: #907651;
  --fabrication-polygon-color: #907651;
  --fabrication-text-color: #a27c24;
  --track-color: #def5f1;
  --track-color-highlight: #D04040;
  --zone-color: #def5f1;
  --zone-color-highlight: #d0404080;
}

html,
body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

.dark.topmostdiv {
  --pcb-edge-color: #eee;
  --pad-color: #808080;
  --pin1-outline-color: #ffa800;
  --pin1-outline-color-highlight: #ccff00;
  --track-color: #42524f;
  --zone-color: #42524f;
  background-color: #252c30;
  color: #eee;
}

button {
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

.dark button {
  /* This will be inverted */
  background-color: #c3b7b5;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

.dark button.depressed {
  /* This will be inverted */
  background-color: #b3b;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.32 290.12h5.82M1.32 291.45h5.82' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 292.5v4.23M.26 292.63H8.2' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='1.35' y='295.73'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#lr-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.06 290.12H3.7m-2.64 1.33H3.7m-2.64 1.32H3.7m-2.64 1.3H3.7m-2.64 1.33H3.7' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 288.8v7.94m0-4.11h3.96' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='5.11' y='291.96'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#bom-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)' fill='none' stroke='%23000' stroke-width='.4'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' stroke-linejoin='round'/%3E%3Cpath d='M1.59 290.12h5.29M1.59 291.45h5.33M1.59 292.75h5.33M1.59 294.09h5.33M1.59 295.41h5.33'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-grouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m4 0h5m4 0h3M6.1 22h3m3.9 0h5m4 0h4m-16-8h4m4 0h4'/%3E%3Cpath stroke-linecap='null' d='M5 17.5h22M5 26.6h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-ungrouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m-4 8h3m-3 8h4'/%3E%3Cpath stroke-linecap='null' d='M5 13.5h22m-22 8h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-netlist-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg fill='none' stroke='%23000' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-width='2' d='M6 26l6-6v-8m13.8-6.3l-6 6v8'/%3E%3Ccircle cx='11.8' cy='9.5' r='2.8' stroke-width='2'/%3E%3Ccircle cx='19.8' cy='22.8' r='2.8' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");
}

button#copy {
  background-image: url("data:image/svg+xml,%3Csvg height='48' viewBox='0 0 48 48' width='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h48v48h-48z' fill='none'/%3E%3Cpath d='M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z'/%3E%3C/svg%3E");
  background-position: 6px 6px;
  background-repeat: no-repeat;
  background-size: 26px 26px;
  border-radius: 6px;
  height: 40px;
  width: 40px;
  margin: 10px 5px;
}

button#copy:active {
  box-shadow: inset 0px 0px 5px #6c6c6c;
}

textarea.clipboard-temp {
  position: fixed;
  top: 0;
  left: 0;
  width: 2em;
  height: 2em;
  padding: 0;
  border: None;
  outline: None;
  box-shadow: None;
  background: transparent;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
  margin: 0.4rem 0.4rem 0.4rem 0;
}

.dark .button-container {
  filter: invert(1);
}

.button-container button {
  background-size: 32px 32px;
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 3px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
  position: relative;
}

.bom th,
.bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

.dark .bom th,
.dark .bom td {
  border: 1px solid #777;
}

.bom th {
  background-color: #CCCCCC;
  background-clip: padding-box;
}

.dark .bom th {
  background-color: #3b4749;
}

.bom tr.highlighted:nth-child(n) {
  background-color: #cfc;
}

.dark .bom tr.highlighted:nth-child(n) {
  background-color: #226022;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.dark .bom tr:nth-child(even) {
  background-color: #313b40;
}

.bom tr.checked {
  color: #1cb53d;
}

.dark .bom tr.checked {
  color: #2cce54;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom .numCol {
  width: 30px;
}

.bom .value {
  width: 15%;
}

.bom .quantity {
  width: 65px;
}

.bom th .sortmark {
  position: absolute;
  right: 1px;
  top: 1px;
  margin-top: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #221 transparent;
  transform-origin: 50% 85%;
  transition: opacity 0.2s, transform 0.4s;
}

.dark .bom th .sortmark {
  filter: invert(1);
}

.bom th .sortmark.none {
  opacity: 0;
}

.bom th .sortmark.desc {
  transform: rotate(180deg);
}

.bom th:hover .sortmark.none {
  opacity: 0.5;
}

.bom .bom-checkbox {
  width: 30px;
  position: relative;
  user-select: none;
  -moz-user-select: none;
}

.bom .bom-checkbox:before {
  content: "";
  position: absolute;
  border-width: 15px;
  border-style: solid;
  border-color: #51829f transparent transparent transparent;
  visibility: hidden;
  top: -15px;
}

.bom .bom-checkbox:after {
  content: "Double click to set/unset all";
  position: absolute;
  color: white;
  top: -35px;
  left: -26px;
  background: #51829f;
  padding: 5px 15px;
  border-radius: 8px;
  white-space: nowrap;
  visibility: hidden;
}

.bom .bom-checkbox:hover:before,
.bom .bom-checkbox:hover:after {
  visibility: visible;
  transition: visibility 0.2s linear 1s;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: inherit;
}

.split.split-horizontal,
.gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #ddd;
  background-repeat: no-repeat;
  background-position: 50%;
  transition: background-color 0.3s;
}

.dark .gutter {
  background-color: #777;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.dark .searchbox {
  background-color: #111;
  color: #eee;
}

.searchbox::placeholder {
  color: #ccc;
}

.dark .searchbox::placeholder {
  color: #666;
}

.filter {
  width: calc(60% - 64px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

.dark input[type=text]:focus {
  background-color: #333;
  border: 1px solid #ccc;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.dark mark.highlight {
  background-color: #76a6da;
  color: #111;
}

.menubtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.statsbtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6h28v24H4V6zm0 8h28v8H4m9-16v24h10V5.8' fill='none' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.iobtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36'%3E%3Cpath fill='none' stroke='%23000' stroke-width='2' d='M3 33v-7l6.8-7h16.5l6.7 7v7H3zM3.2 26H33M21 9l5-5.9 5 6h-2.5V15h-5V9H21zm-4.9 0l-5 6-5-6h2.5V3h5v6h2.5z'/%3E%3Cpath fill='none' stroke='%23000' d='M6.1 29.5H10'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.visbtn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill='none' stroke='%23333' d='M2.5 4.5h5v15h-5zM9.5 4.5h5v15h-5zM16.5 4.5h5v15h-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  padding: 15px;
}

#vismenu-content {
  left: 0px;
  font-family: Verdana, sans-serif;
}

.dark .statsbtn,
.dark .savebtn,
.dark .menubtn,
.dark .iobtn,
.dark .visbtn {
  filter: invert(1);
}

.flexbox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.savebtn {
  background-color: #d6d6d6;
  width: auto;
  height: 30px;
  flex-grow: 1;
  margin: 5px;
  border-radius: 4px;
}

.savebtn:active {
  background-color: #0a0;
  color: white;
}

.dark .savebtn:active {
  /* This will be inverted */
  background-color: #b3b;
}

.stats {
  border-collapse: collapse;
  font-size: 12pt;
  table-layout: fixed;
  width: 100%;
  min-width: 450px;
}

.dark .stats td {
  border: 1px solid #bbb;
}

.stats td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

#checkbox-stats div {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#checkbox-stats .bar {
  background-color: rgba(28, 251, 0, 0.6);
}

.menu {
  position: relative;
  display: inline-block;
  margin: 0.4rem 0.4rem 0.4rem 0;
}

.menu-content {
  font-size: 12pt !important;
  text-align: left !important;
  font-weight: normal !important;
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.dark .menu-content {
  background-color: #111;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn,
.menu:hover .iobtn,
.menu:hover .statsbtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

.menu-textbox.invalid,
.dark .menu-textbox.invalid {
  color: red;
}

.dark .menu-textbox {
  background-color: #222;
  color: #eee;
}

.radio-container {
  margin: 4px;
}

.topmostdiv {
  display: flex;
  flex-direction: column;
  width: 100%;
  background-color: white;
  transition: background-color 0.3s;
}

#top {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
}

#topdivider {
  border-bottom: 2px solid black;
  display: flex;
  justify-content: center;
  align-items: center;
}

.dark #topdivider {
  border-bottom: 2px solid #ccc;
}

#topdivider>div {
  position: relative;
}

#toptoggle {
  cursor: pointer;
  user-select: none;
  position: absolute;
  padding: 0.1rem 0.3rem;
  top: -0.4rem;
  left: -1rem;
  font-size: 1.4rem;
  line-height: 60%;
  border: 1px solid black;
  border-radius: 1rem;
  background-color: #fff;
  z-index: 100;
}

.flipped {
  transform: rotate(0.5turn);
}

.dark #toptoggle {
  border: 1px solid #fff;
  background-color: #222;
}

#fileinfodiv {
  flex: 20rem 1 0;
  overflow: auto;
}

#bomcontrols {
  display: flex;
  flex-direction: row-reverse;
}

#bomcontrols>* {
  flex-shrink: 0;
}

#dbg {
  display: block;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #aaa;
}

::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  margin: 3px 0;
  padding: 0;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  border-radius: 3px;
}

.slider:hover {
  opacity: 1;
}

.slider:focus {
  outline: none;
}

.slider::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
  border: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin-top: -4px;
}

.dark .slider::-webkit-slider-thumb {
  background: #3d3;
}

.slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
}

.slider::-moz-range-track {
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
}

.dark .slider::-moz-range-thumb {
  background: #3d3;
}

.slider::-ms-track {
  width: 100%;
  height: 8px;
  border-width: 3px 0;
  background: transparent;
  border-color: transparent;
  color: transparent;
  transition: opacity .2s;
}

.slider::-ms-fill-lower {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-fill-upper {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin: 0;
}

.shameless-plug {
  font-size: 0.8em;
  text-align: center;
  display: block;
}

a {
  color: #0278a4;
}

.dark a {
  color: #00b9fd;
}

#frontcanvas,
#backcanvas {
  touch-action: none;
}

.placeholder {
  border: 1px dashed #9f9fda !important;
  background-color: #edf2f7 !important;
}

.dragging {
  z-index: 999;
}

.dark .dragging>table>tbody>tr {
  background-color: #252c30;
}

.dark .placeholder {
  filter: invert(1);
}

.column-spacer {
  top: 0;
  left: 0;
  width: calc(100% - 4px);
  position: absolute;
  cursor: pointer;
  user-select: none;
  height: 100%;
}

.column-width-handle {
  top: 0;
  right: 0;
  width: 4px;
  position: absolute;
  cursor: col-resize;
  user-select: none;
  height: 100%;
}

.column-width-handle:hover {
  background-color: #4f99bd;
}

.help-link {
  border: 1px solid #0278a4;
  padding-inline: 0.3rem;
  border-radius: 3px;
  cursor: pointer;
}

.dark .help-link {
  border: 1px solid #00b9fd;
}

.bom-color {
  width: 20%;
}

.color-column input {
  width: 1.6rem;
  height: 1rem;
  border: 1px solid black;
  cursor: pointer;
  padding: 0;
}

/* removes default styling from input color element */
::-webkit-color-swatch {
  border: none;
}

::-webkit-color-swatch-wrapper {
  padding: 0;
}

::-moz-color-swatch,
::-moz-focus-inner {
  border: none;
}

::-moz-focus-inner {
  padding: 0;
}
/* #bomhead {
    position: sticky;
    top: 0px;
    z-index: 1;
} */
  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////
// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>
// This work is free. You can redistribute it and/or modify it
// under the terms of the WTFPL, Version 2
// For more information see LICENSE.txt or http://www.wtfpl.net/
//
// For more information, the home page:
// http://pieroxy.net/blog/pages/lz-string/testing.html
//
// LZ-based compression algorithm, version 1.4.4
var LZString=function(){var o=String.fromCharCode,i={};var n={decompressFromBase64:function(o){return null==o?"":""==o?null:n._decompress(o.length,32,function(n){return function(o,n){if(!i[o]){i[o]={};for(var t=0;t<o.length;t++)i[o][o.charAt(t)]=t}return i[o][n]}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.charAt(n))})},_decompress:function(i,n,t){var r,e,a,s,p,u,l,f=[],c=4,d=4,h=3,v="",g=[],m={val:t(0),position:n,index:1};for(r=0;r<3;r+=1)f[r]=r;for(a=0,p=Math.pow(2,2),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;switch(a){case 0:for(a=0,p=Math.pow(2,8),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;l=o(a);break;case 1:for(a=0,p=Math.pow(2,16),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;l=o(a);break;case 2:return""}for(f[3]=l,e=l,g.push(l);;){if(m.index>i)return"";for(a=0,p=Math.pow(2,h),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;switch(l=a){case 0:for(a=0,p=Math.pow(2,8),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;f[d++]=o(a),l=d-1,c--;break;case 1:for(a=0,p=Math.pow(2,16),u=1;u!=p;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=t(m.index++)),a|=(s>0?1:0)*u,u<<=1;f[d++]=o(a),l=d-1,c--;break;case 2:return g.join("")}if(0==c&&(c=Math.pow(2,h),h++),f[l])v=f[l];else{if(l!==d)return null;v=e+e.charAt(0)}g.push(v),f[d++]=e+v.charAt(0),e=v,0==--c&&(c=Math.pow(2,h),h++)}}};return n}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module?module.exports=LZString:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return LZString});
///////////////////////////////////////////////

///////////////////////////////////////////////
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);
for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;
var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",_)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",V);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:W},releasePointerCapture:{value:X},hasPointerCapture:{value:Y}})}
var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(c){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);) if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:/*scope.external.dispatchEvent || */function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d} e=this.olderShadow(e)} return f}},owner:function(a){
for(var b=a;b.parentNode;)b=b.parentNode;
return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);
return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){
//
this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},
installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){
var b=x(a,this.findElements,this);
return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(L){}
var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],
isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){
var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);
0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];
c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),
c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H["delete"](this.POINTER_ID)}},O=u.captureInfo,P=v.findTarget.bind(v),Q=v.allShadows.bind(v),R=u.pointermap,S=2500,T=200,U="touch-action",V={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){M.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(U),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),
Q(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),
Q(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(U),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);
d&&e?(a._scrollType=d,Q(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){
(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,T)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=O[d]||P(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,
c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;
var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},
shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)
b=!1;else if("XY"===c)
b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);
b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},
vacuumTouches:function(a){var b=a.touches;
if(R.size>=b.length){var c=[];R.forEach(function(a,d){
if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){R.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=R.get(b.pointerId);
if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,
d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(
b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){R["delete"](a.pointerId),this.removePrimaryPointer(a)},
dedupSynthMouse:function(a){var b=N.lastTouches,c=a.changedTouches[0];
if(this.isPrimaryTouch(c)){
var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,S)}}};M=new c(V.elementAdded,V.elementRemoved,V.elementChanged,V);var W,X,Y,Z=u.pointermap,$=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,_={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return $&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Z["delete"](a)},MSPointerDown:function(a){Z.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},aa=window.navigator;aa.msPointerEnabled?(W=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},X=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(W=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},X=function(a){i(a),u.releaseCapture(a)}),Y=function(a){return!!u.captureInfo[a]},g(),h(),l();var ba={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return ba});

///////////////////////////////////////////////

///////////////////////////////////////////////
var config = {"dark_mode": false, "show_pads": true, "show_fabrication": false, "show_silkscreen": true, "highlight_pin1": "none", "redraw_on_drag": true, "board_rotation": 0, "checkboxes": "Sourced,Placed", "bom_view": "left-right", "layer_view": "FB", "offset_back_rotation": false, "kicad_text_formatting": true, "fields": ["Value", "Footprint"]}
///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = JSON.parse(LZString.decompressFromBase64("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"))
///////////////////////////////////////////////

///////////////////////////////////////////////
/* Utility functions */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__#';
var storage;

function initStorage(key) {
  try {
    window.localStorage.getItem("blank");
    storage = window.localStorage;
  } catch (e) {
    // localStorage not available
  }
  if (!storage) {
    try {
      window.sessionStorage.getItem("blank");
      storage = window.sessionStorage;
    } catch (e) {
      // sessionStorage also not available
    }
  }
}

function readStorage(key) {
  if (storage) {
    return storage.getItem(storagePrefix + key);
  } else {
    return null;
  }
}

function writeStorage(key, value) {
  if (storage) {
    storage.setItem(storagePrefix + key, value);
  }
}

function fancyDblClickHandler(el, onsingle, ondouble) {
  return function () {
    if (el.getAttribute("data-dblclick") == null) {
      el.setAttribute("data-dblclick", 1);
      setTimeout(function () {
        if (el.getAttribute("data-dblclick") == 1) {
          onsingle();
        }
        el.removeAttribute("data-dblclick");
      }, 200);
    } else {
      el.removeAttribute("data-dblclick");
      ondouble();
    }
  }
}

function smoothScrollToRow(rowid) {
  document.getElementById(rowid).scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "nearest"
  });
}

function focusInputField(input) {
  input.scrollIntoView(false);
  input.focus();
  input.select();
}

function saveBomTable(output) {
  var text = '';
  for (var node of bomhead.childNodes[0].childNodes) {
    if (node.firstChild) {
      text += (output == 'csv' ? `"${node.firstChild.nodeValue}"` : node.firstChild.nodeValue);
    }
    if (node != bomhead.childNodes[0].lastChild) {
      text += (output == 'csv' ? ',' : '\t');
    }
  }
  text += '\n';
  for (var row of bombody.childNodes) {
    for (var cell of row.childNodes) {
      let val = '';
      for (var node of cell.childNodes) {
        if (node.nodeName == "INPUT") {
          if (node.checked) {
            val += '✓';
          }
        } else if ((node.nodeName == "MARK") || (node.nodeName == "A")) {
          val += node.firstChild.nodeValue;
        } else {
          val += node.nodeValue;
        }
      }
      if (output == 'csv') {
        val = val.replace(/\"/g, '\"\"'); // pair of double-quote characters
        if (isNumeric(val)) {
          val = +val;                     // use number
        } else {
          val = `"${val}"`;               // enclosed within double-quote
        }
      }
      text += val;
      if (cell != row.lastChild) {
        text += (output == 'csv' ? ',' : '\t');
      }
    }
    text += '\n';
  }

  if (output != 'clipboard') {
    // To file: csv or txt
    var blob = new Blob([text], {
      type: `text/${output}`
    });
    saveFile(`${pcbdata.metadata.title}.${output}`, blob);
  } else {
    // To clipboard
    var textArea = document.createElement("textarea");
    textArea.classList.add('clipboard-temp');
    textArea.value = text;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      if (document.execCommand('copy')) {
        console.log('Bom copied to clipboard.');
      }
    } catch (err) {
      console.log('Can not copy to clipboard.');
    }

    document.body.removeChild(textArea);
  }
}

function isNumeric(str) {
  /* https://stackoverflow.com/a/175787 */
  return (typeof str != "string" ? false : !isNaN(str) && !isNaN(parseFloat(str)));
}

function removeGutterNode(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

var units = {
  prefixes: {
    giga: ["G", "g", "giga", "Giga", "GIGA"],
    mega: ["M", "mega", "Mega", "MEGA"],
    kilo: ["K", "k", "kilo", "Kilo", "KILO"],
    milli: ["m", "milli", "Milli", "MILLI"],
    micro: ["U", "u", "micro", "Micro", "MICRO", "μ", "µ"], // different utf8 μ
    nano: ["N", "n", "nano", "Nano", "NANO"],
    pico: ["P", "p", "pico", "Pico", "PICO"],
  },
  unitsShort: ["R", "r", "Ω", "F", "f", "H", "h"],
  unitsLong: [
    "OHM", "Ohm", "ohm", "ohms",
    "FARAD", "Farad", "farad",
    "HENRY", "Henry", "henry"
  ],
  getMultiplier: function (s) {
    if (this.prefixes.giga.includes(s)) return 1e9;
    if (this.prefixes.mega.includes(s)) return 1e6;
    if (this.prefixes.kilo.includes(s)) return 1e3;
    if (this.prefixes.milli.includes(s)) return 1e-3;
    if (this.prefixes.micro.includes(s)) return 1e-6;
    if (this.prefixes.nano.includes(s)) return 1e-9;
    if (this.prefixes.pico.includes(s)) return 1e-12;
    return 1;
  },
  valueRegex: null,
}

function initUtils() {
  var allPrefixes = units.prefixes.giga
    .concat(units.prefixes.mega)
    .concat(units.prefixes.kilo)
    .concat(units.prefixes.milli)
    .concat(units.prefixes.micro)
    .concat(units.prefixes.nano)
    .concat(units.prefixes.pico);
  var allUnits = units.unitsShort.concat(units.unitsLong);
  units.valueRegex = new RegExp("^([0-9\.]+)" +
    "\\s*(" + allPrefixes.join("|") + ")?" +
    "(" + allUnits.join("|") + ")?" +
    "(\\b.*)?$", "");
  units.valueAltRegex = new RegExp("^([0-9]*)" +
    "(" + units.unitsShort.join("|") + ")?" +
    "([GgMmKkUuNnPp])?" +
    "([0-9]*)" +
    "(\\b.*)?$", "");
  if (config.fields.includes("Value")) {
    var index = config.fields.indexOf("Value");
    pcbdata.bom["parsedValues"] = {};
    for (var id in pcbdata.bom.fields) {
      pcbdata.bom.parsedValues[id] = parseValue(pcbdata.bom.fields[id][index])
    }
  }
}

function parseValue(val, ref) {
  var inferUnit = (unit, ref) => {
    if (unit) {
      unit = unit.toLowerCase();
      if (unit == 'Ω' || unit == "ohm" || unit == "ohms") {
        unit = 'r';
      }
      unit = unit[0];
    } else {
      ref = /^([a-z]+)\d+$/i.exec(ref);
      if (ref) {
        ref = ref[1].toLowerCase();
        if (ref == "c") unit = 'f';
        else if (ref == "l") unit = 'h';
        else if (ref == "r" || ref == "rv") unit = 'r';
        else unit = null;
      }
    }
    return unit;
  };
  val = val.replace(/,/g, "");
  var match = units.valueRegex.exec(val);
  var unit;
  if (match) {
    val = parseFloat(match[1]);
    if (match[2]) {
      val = val * units.getMultiplier(match[2]);
    }
    unit = inferUnit(match[3], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[4],
    }
  }
  match = units.valueAltRegex.exec(val);
  if (match && (match[1] || match[4])) {
    val = parseFloat(match[1] + "." + match[4]);
    if (match[3]) {
      val = val * units.getMultiplier(match[3]);
    }
    unit = inferUnit(match[2], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[5],
    }
  }
  return null;
}

function valueCompare(a, b, stra, strb) {
  if (a === null && b === null) {
    // Failed to parse both values, compare them as strings.
    if (stra != strb) return stra > strb ? 1 : -1;
    else return 0;
  } else if (a === null) {
    return 1;
  } else if (b === null) {
    return -1;
  } else {
    if (a.unit != b.unit) return a.unit > b.unit ? 1 : -1;
    else if (a.val != b.val) return a.val > b.val ? 1 : -1;
    else if (a.extra != b.extra) return a.extra > b.extra ? 1 : -1;
    else return 0;
  }
}

function validateSaveImgDimension(element) {
  var valid = false;
  var intValue = 0;
  if (/^[1-9]\d*$/.test(element.value)) {
    intValue = parseInt(element.value);
    if (intValue <= 16000) {
      valid = true;
    }
  }
  if (valid) {
    element.classList.remove("invalid");
  } else {
    element.classList.add("invalid");
  }
  return intValue;
}

function saveImage(layer) {
  var width = validateSaveImgDimension(document.getElementById("render-save-width"));
  var height = validateSaveImgDimension(document.getElementById("render-save-height"));
  var bgcolor = null;
  if (!document.getElementById("render-save-transparent").checked) {
    var style = getComputedStyle(topmostdiv);
    bgcolor = style.getPropertyValue("background-color");
  }
  if (!width || !height) return;

  // Prepare image
  var canvas = document.createElement("canvas");
  var layerdict = {
    transform: {
      x: 0,
      y: 0,
      s: 1,
      panx: 0,
      pany: 0,
      zoom: 1,
    },
    bg: canvas,
    fab: canvas,
    silk: canvas,
    highlight: canvas,
    layer: layer,
  }
  // Do the rendering
  recalcLayerScale(layerdict, width, height);
  prepareLayer(layerdict);
  clearCanvas(canvas, bgcolor);
  drawBackground(layerdict, false);
  drawHighlightsOnLayer(layerdict, false);

  // Save image
  var imgdata = canvas.toDataURL("image/png");

  var filename = pcbdata.metadata.title;
  if (pcbdata.metadata.revision) {
    filename += `.${pcbdata.metadata.revision}`;
  }
  filename += `.${layer}.png`;
  saveFile(filename, dataURLtoBlob(imgdata));
}

function saveSettings() {
  var data = {
    type: "InteractiveHtmlBom settings",
    version: 1,
    pcbmetadata: pcbdata.metadata,
    settings: settings,
  }
  var blob = new Blob([JSON.stringify(data, null, 4)], {
    type: "application/json"
  });
  saveFile(`${pcbdata.metadata.title}.settings.json`, blob);
}

function loadSettings() {
  var input = document.createElement("input");
  input.type = "file";
  input.accept = ".settings.json";
  input.onchange = function (e) {
    var file = e.target.files[0];
    var reader = new FileReader();
    reader.onload = readerEvent => {
      var content = readerEvent.target.result;
      var newSettings;
      try {
        newSettings = JSON.parse(content);
      } catch (e) {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      if (newSettings.type != "InteractiveHtmlBom settings") {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      var metadataMatches = newSettings.hasOwnProperty("pcbmetadata");
      if (metadataMatches) {
        for (var k in pcbdata.metadata) {
          if (!newSettings.pcbmetadata.hasOwnProperty(k) || newSettings.pcbmetadata[k] != pcbdata.metadata[k]) {
            metadataMatches = false;
          }
        }
      }
      if (!metadataMatches) {
        var currentMetadata = JSON.stringify(pcbdata.metadata, null, 4);
        var fileMetadata = JSON.stringify(newSettings.pcbmetadata, null, 4);
        if (!confirm(
          `Settins file metadata does not match current metadata.\n\n` +
          `Page metadata:\n${currentMetadata}\n\n` +
          `Settings file metadata:\n${fileMetadata}\n\n` +
          `Press OK if you would like to import settings anyway.`)) {
          return;
        }
      }
      overwriteSettings(newSettings.settings);
    }
    reader.readAsText(file, 'UTF-8');
  }
  input.click();
}

function resetSettings() {
  if (!confirm(
    `This will reset all checkbox states and other settings.\n\n` +
    `Press OK if you want to continue.`)) {
    return;
  }
  if (storage) {
    var keys = [];
    for (var i = 0; i < storage.length; i++) {
      var key = storage.key(i);
      if (key.startsWith(storagePrefix)) keys.push(key);
    }
    for (var key of keys) storage.removeItem(key);
  }
  location.reload();
}

function overwriteSettings(newSettings) {
  initDone = false;
  Object.assign(settings, newSettings);
  writeStorage("bomlayout", settings.bomlayout);
  writeStorage("bommode", settings.bommode);
  writeStorage("canvaslayout", settings.canvaslayout);
  writeStorage("bomCheckboxes", settings.checkboxes.join(","));
  document.getElementById("bomCheckboxes").value = settings.checkboxes.join(",");
  for (var checkbox of settings.checkboxes) {
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
  }
  writeStorage("markWhenChecked", settings.markWhenChecked);
  padsVisible(settings.renderPads);
  document.getElementById("padsCheckbox").checked = settings.renderPads;
  fabricationVisible(settings.renderFabrication);
  document.getElementById("fabricationCheckbox").checked = settings.renderFabrication;
  silkscreenVisible(settings.renderSilkscreen);
  document.getElementById("silkscreenCheckbox").checked = settings.renderSilkscreen;
  referencesVisible(settings.renderReferences);
  document.getElementById("referencesCheckbox").checked = settings.renderReferences;
  valuesVisible(settings.renderValues);
  document.getElementById("valuesCheckbox").checked = settings.renderValues;
  tracksVisible(settings.renderTracks);
  document.getElementById("tracksCheckbox").checked = settings.renderTracks;
  zonesVisible(settings.renderZones);
  document.getElementById("zonesCheckbox").checked = settings.renderZones;
  dnpOutline(settings.renderDnpOutline);
  document.getElementById("dnpOutlineCheckbox").checked = settings.renderDnpOutline;
  setRedrawOnDrag(settings.redrawOnDrag);
  document.getElementById("dragCheckbox").checked = settings.redrawOnDrag;
  setDarkMode(settings.darkMode);
  document.getElementById("darkmodeCheckbox").checked = settings.darkMode;
  setHighlightPin1(settings.highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = settings.highlightpin1;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  setOffsetBackRotation(settings.offsetBackRotation);
  document.getElementById("offsetBackRotationCheckbox").checked = settings.offsetBackRotation;
  initDone = true;
  prepCheckboxes();
  changeBomLayout(settings.bomlayout);
}

function saveFile(filename, blob) {
  var link = document.createElement("a");
  var objurl = URL.createObjectURL(blob);
  link.download = filename;
  link.href = objurl;
  link.click();
}

function dataURLtoBlob(dataurl) {
  var arr = dataurl.split(','),
    mime = arr[0].match(/:(.*?);/)[1],
    bstr = atob(arr[1]),
    n = bstr.length,
    u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], {
    type: mime
  });
}

var settings = {
  canvaslayout: "FB",
  bomlayout: "left-right",
  bommode: "grouped",
  checkboxes: [],
  checkboxStoredRefs: {},
  darkMode: false,
  highlightpin1: "none",
  redrawOnDrag: true,
  boardRotation: 0,
  offsetBackRotation: false,
  renderPads: true,
  renderReferences: true,
  renderValues: true,
  renderSilkscreen: true,
  renderFabrication: true,
  renderDnpOutline: false,
  renderTracks: true,
  renderZones: true,
  columnOrder: [],
  hiddenColumns: [],
  netColors: {},
}

function initDefaults() {
  settings.bomlayout = readStorage("bomlayout");
  if (settings.bomlayout === null) {
    settings.bomlayout = config.bom_view;
  }
  if (!['bom-only', 'left-right', 'top-bottom'].includes(settings.bomlayout)) {
    settings.bomlayout = config.bom_view;
  }
  settings.bommode = readStorage("bommode");
  if (settings.bommode === null) {
    settings.bommode = "grouped";
  }
  if (settings.bommode == "netlist" && !pcbdata.nets) {
    settings.bommode = "grouped";
  }
  if (!["grouped", "ungrouped", "netlist"].includes(settings.bommode)) {
    settings.bommode = "grouped";
  }
  settings.canvaslayout = readStorage("canvaslayout");
  if (settings.canvaslayout === null) {
    settings.canvaslayout = config.layer_view;
  }
  var bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = config.checkboxes;
  }
  settings.checkboxes = bomCheckboxes.split(",").filter((e) => e);
  document.getElementById("bomCheckboxes").value = bomCheckboxes;

  var highlightpin1 = readStorage("highlightpin1") || config.highlight_pin1;
  if (highlightpin1 === "false") highlightpin1 = "none";
  if (highlightpin1 === "true") highlightpin1 = "all";
  setHighlightPin1(highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = highlightpin1;

  settings.markWhenChecked = readStorage("markWhenChecked") || "";
  populateMarkWhenCheckedOptions();

  function initBooleanSetting(storageString, def, elementId, func) {
    var b = readStorage(storageString);
    if (b === null) {
      b = def;
    } else {
      b = (b == "true");
    }
    document.getElementById(elementId).checked = b;
    func(b);
  }

  initBooleanSetting("padsVisible", config.show_pads, "padsCheckbox", padsVisible);
  initBooleanSetting("fabricationVisible", config.show_fabrication, "fabricationCheckbox", fabricationVisible);
  initBooleanSetting("silkscreenVisible", config.show_silkscreen, "silkscreenCheckbox", silkscreenVisible);
  initBooleanSetting("referencesVisible", true, "referencesCheckbox", referencesVisible);
  initBooleanSetting("valuesVisible", true, "valuesCheckbox", valuesVisible);
  if ("tracks" in pcbdata) {
    initBooleanSetting("tracksVisible", true, "tracksCheckbox", tracksVisible);
    initBooleanSetting("zonesVisible", true, "zonesCheckbox", zonesVisible);
  } else {
    document.getElementById("tracksAndZonesCheckboxes").style.display = "none";
    tracksVisible(false);
    zonesVisible(false);
  }
  initBooleanSetting("dnpOutline", false, "dnpOutlineCheckbox", dnpOutline);
  initBooleanSetting("redrawOnDrag", config.redraw_on_drag, "dragCheckbox", setRedrawOnDrag);
  initBooleanSetting("darkmode", config.dark_mode, "darkmodeCheckbox", setDarkMode);

  var fields = ["checkboxes", "References"].concat(config.fields).concat(["Quantity"]);
  var hcols = JSON.parse(readStorage("hiddenColumns"));
  if (hcols === null) {
    hcols = [];
  }
  settings.hiddenColumns = hcols.filter(e => fields.includes(e));

  var cord = JSON.parse(readStorage("columnOrder"));
  if (cord === null) {
    cord = fields;
  } else {
    cord = cord.filter(e => fields.includes(e));
    if (cord.length != fields.length)
      cord = fields;
  }
  settings.columnOrder = cord;

  settings.boardRotation = readStorage("boardRotation");
  if (settings.boardRotation === null) {
    settings.boardRotation = config.board_rotation * 5;
  } else {
    settings.boardRotation = parseInt(settings.boardRotation);
  }
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  initBooleanSetting("offsetBackRotation", config.offset_back_rotation, "offsetBackRotationCheckbox", setOffsetBackRotation);

  settings.netColors = JSON.parse(readStorage("netColors")) || {};
}

// Helper classes for user js callbacks.

const IBOM_EVENT_TYPES = {
  ALL: "all",
  HIGHLIGHT_EVENT: "highlightEvent",
  CHECKBOX_CHANGE_EVENT: "checkboxChangeEvent",
  BOM_BODY_CHANGE_EVENT: "bomBodyChangeEvent",
}

const EventHandler = {
  callbacks: {},
  init: function () {
    for (eventType of Object.values(IBOM_EVENT_TYPES))
      this.callbacks[eventType] = [];
  },
  registerCallback: function (eventType, callback) {
    this.callbacks[eventType].push(callback);
  },
  emitEvent: function (eventType, eventArgs) {
    event = {
      eventType: eventType,
      args: eventArgs,
    }
    var callback;
    for (callback of this.callbacks[eventType])
      callback(event);
    for (callback of this.callbacks[IBOM_EVENT_TYPES.ALL])
      callback(event);
  }
}
EventHandler.init();

///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var emptyContext2d = document.createElement("canvas").getContext("2d");

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function calcFontPoint(linepoint, text, offsetx, offsety, tilt) {
  var point = [
    linepoint[0] * text.width + offsetx,
    linepoint[1] * text.height + offsety
  ];
  // This approximates pcbnew behavior with how text tilts depending on horizontal justification
  point[0] -= (linepoint[1] + 0.5 * (1 + text.justify[0])) * text.height * tilt;
  return point;
}

function drawText(ctx, text, color) {
  if ("ref" in text && !settings.renderReferences) return;
  if ("val" in text && !settings.renderValues) return;
  ctx.save();
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  ctx.lineWidth = text.thickness;
  if ("svgpath" in text) {
    ctx.stroke(new Path2D(text.svgpath));
    ctx.restore();
    return;
  }
  if ("polygons" in text) {
    ctx.fill(getPolygonsPath(text));
    ctx.restore();
    return;
  }
  ctx.translate(...text.pos);
  ctx.translate(text.thickness * 0.5, 0);
  var angle = -text.angle;
  if (text.attr.includes("mirrored")) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  var tilt = 0;
  if (text.attr.includes("italic")) {
    tilt = 0.125;
  }
  var interline = text.height * 1.5 + text.thickness;
  var txt = text.text.split("\n");
  // KiCad ignores last empty line.
  if (txt[txt.length - 1] == '') txt.pop();
  ctx.rotate(deg2rad(angle));
  var offsety = (1 - text.justify[1]) / 2 * text.height; // One line offset
  offsety -= (txt.length - 1) * (text.justify[1] + 1) / 2 * interline; // Multiline offset
  for (var i in txt) {
    var lineWidth = text.thickness + interline / 2 * tilt;
    for (var j = 0; j < txt[i].length; j++) {
      if (txt[i][j] == '\t') {
        var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
        lineWidth += fourSpaces - lineWidth % fourSpaces;
      } else {
        if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
        }
        lineWidth += pcbdata.font_data[txt[i][j]].w * text.width;
      }
    }
    var offsetx = -lineWidth * (text.justify[0] + 1) / 2;
    var inOverbar = false;
    for (var j = 0; j < txt[i].length; j++) {
      if (config.kicad_text_formatting) {
        if (txt[i][j] == '\t') {
          var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
          offsetx += fourSpaces - offsetx % fourSpaces;
          continue;
        } else if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
          if (txt[i][j] != '~') {
            inOverbar = !inOverbar;
          }
        }
      }
      var glyph = pcbdata.font_data[txt[i][j]];
      if (inOverbar) {
        var overbarStart = [offsetx, -text.height * 1.4 + offsety];
        var overbarEnd = [offsetx + text.width * glyph.w, overbarStart[1]];

        if (!lastHadOverbar) {
          overbarStart[0] += text.height * 1.4 * tilt;
          lastHadOverbar = true;
        }
        ctx.beginPath();
        ctx.moveTo(...overbarStart);
        ctx.lineTo(...overbarEnd);
        ctx.stroke();
      } else {
        lastHadOverbar = false;
      }
      for (var line of glyph.l) {
        ctx.beginPath();
        ctx.moveTo(...calcFontPoint(line[0], text, offsetx, offsety, tilt));
        for (var k = 1; k < line.length; k++) {
          ctx.lineTo(...calcFontPoint(line[k], text, offsetx, offsety, tilt));
        }
        ctx.stroke();
      }
      offsetx += glyph.w * text.width;
    }
    offsety += interline;
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.fillStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  if ("svgpath" in edge) {
    ctx.stroke(new Path2D(edge.svgpath));
  } else {
    ctx.beginPath();
    if (edge.type == "segment") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(...edge.end);
    }
    if (edge.type == "rect") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(edge.start[0], edge.end[1]);
      ctx.lineTo(...edge.end);
      ctx.lineTo(edge.end[0], edge.start[1]);
      ctx.lineTo(...edge.start);
    }
    if (edge.type == "arc") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        deg2rad(edge.startangle),
        deg2rad(edge.endangle));
    }
    if (edge.type == "circle") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        0, 2 * Math.PI);
      ctx.closePath();
    }
    if (edge.type == "curve") {
      ctx.moveTo(...edge.start);
      ctx.bezierCurveTo(...edge.cpa, ...edge.cpb, ...edge.end);
    }
    if("filled" in edge && edge.filled)
      ctx.fill();
    else
      ctx.stroke();
  }
}

function getChamferedRectPath(size, radius, chamfpos, chamfratio) {
  // chamfpos is a bitmask, left = 1, right = 2, bottom left = 4, bottom right = 8
  var path = new Path2D();
  var width = size[0];
  var height = size[1];
  var x = width * -0.5;
  var y = height * -0.5;
  var chamfOffset = Math.min(width, height) * chamfratio;
  path.moveTo(x, 0);
  if (chamfpos & 4) {
    path.lineTo(x, y + height - chamfOffset);
    path.lineTo(x + chamfOffset, y + height);
    path.lineTo(0, y + height);
  } else {
    path.arcTo(x, y + height, x + width, y + height, radius);
  }
  if (chamfpos & 8) {
    path.lineTo(x + width - chamfOffset, y + height);
    path.lineTo(x + width, y + height - chamfOffset);
    path.lineTo(x + width, 0);
  } else {
    path.arcTo(x + width, y + height, x + width, y, radius);
  }
  if (chamfpos & 2) {
    path.lineTo(x + width, y + chamfOffset);
    path.lineTo(x + width - chamfOffset, y);
    path.lineTo(0, y);
  } else {
    path.arcTo(x + width, y, x, y, radius);
  }
  if (chamfpos & 1) {
    path.lineTo(x + chamfOffset, y);
    path.lineTo(x, y + chamfOffset);
    path.lineTo(x, 0);
  } else {
    path.arcTo(x, y, x, y + height, radius);
  }
  path.closePath();
  return path;
}

function getOblongPath(size) {
  return getChamferedRectPath(size, Math.min(size[0], size[1]) / 2, 0, 0);
}

function getPolygonsPath(shape) {
  if (shape.path2d) {
    return shape.path2d;
  }
  if ("svgpath" in shape) {
    shape.path2d = new Path2D(shape.svgpath);
  } else {
    var path = new Path2D();
    for (var polygon of shape.polygons) {
      path.moveTo(...polygon[0]);
      for (var i = 1; i < polygon.length; i++) {
        path.lineTo(...polygon[i]);
      }
      path.closePath();
    }
    shape.path2d = path;
  }
  return shape.path2d;
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  if (!("svgpath" in shape)) {
    ctx.translate(...shape.pos);
    ctx.rotate(deg2rad(-shape.angle));
  }
  if("filled" in shape && !shape.filled) {
    ctx.strokeStyle = color;
    ctx.lineWidth = Math.max(1 / scalefactor, shape.width);
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.stroke(getPolygonsPath(shape));
  } else {
    ctx.fillStyle = color;
    ctx.fill(getPolygonsPath(shape));
  }
  ctx.restore();
}

function drawDrawing(ctx, scalefactor, drawing, color) {
  if (["segment", "arc", "circle", "curve", "rect"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawText(ctx, drawing, color);
  }
}

function getCirclePath(radius) {
  var path = new Path2D();
  path.arc(0, 0, radius, 0, 2 * Math.PI);
  path.closePath();
  return path;
}

function getCachedPadPath(pad) {
  if (!pad.path2d) {
    // if path2d is not set, build one and cache it on pad object
    if (pad.shape == "rect") {
      pad.path2d = new Path2D();
      pad.path2d.rect(...pad.size.map(c => -c * 0.5), ...pad.size);
    } else if (pad.shape == "oval") {
      pad.path2d = getOblongPath(pad.size);
    } else if (pad.shape == "circle") {
      pad.path2d = getCirclePath(pad.size[0] / 2);
    } else if (pad.shape == "roundrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, 0, 0);
    } else if (pad.shape == "chamfrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, pad.chamfpos, pad.chamfratio)
    } else if (pad.shape == "custom") {
      pad.path2d = getPolygonsPath(pad);
    }
  }
  return pad.path2d;
}

function drawPad(ctx, pad, color, outline) {
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  if (pad.offset) {
    ctx.translate(...pad.offset);
  }
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  var path = getCachedPadPath(pad);
  if (outline) {
    ctx.stroke(path);
  } else {
    ctx.fill(path);
  }
  ctx.restore();
}

function drawPadHole(ctx, pad, padHoleColor) {
  if (pad.type != "th") return;
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  ctx.fillStyle = padHoleColor;
  if (pad.drillshape == "oblong") {
    ctx.fill(getOblongPath(pad.drillsize));
  } else {
    ctx.fill(getCirclePath(pad.drillsize[0] / 2));
  }
  ctx.restore();
}

function drawFootprint(ctx, layer, scalefactor, footprint, colors, highlight, outline) {
  if (highlight) {
    // draw bounding box
    if (footprint.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...footprint.bbox.pos);
      ctx.rotate(deg2rad(-footprint.bbox.angle));
      ctx.translate(...footprint.bbox.relpos);
      ctx.fillStyle = colors.pad;
      ctx.fillRect(0, 0, ...footprint.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = colors.pad;
      ctx.lineWidth = 3 / scalefactor;
      ctx.strokeRect(0, 0, ...footprint.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (var drawing of footprint.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, scalefactor, drawing.drawing, colors.pad);
    }
  }
  ctx.lineWidth = 3 / scalefactor;
  // draw pads
  if (settings.renderPads) {
    for (var pad of footprint.pads) {
      if (pad.layers.includes(layer)) {
        drawPad(ctx, pad, colors.pad, outline);
        if (pad.pin1 &&
          (settings.highlightpin1 == "all" ||
            settings.highlightpin1 == "selected" && highlight)) {
          drawPad(ctx, pad, colors.outline, true);
        }
      }
    }
    for (var pad of footprint.pads) {
      drawPadHole(ctx, pad, colors.padHole);
    }
  }
}

function drawEdgeCuts(canvas, scalefactor) {
  var ctx = canvas.getContext("2d");
  var edgecolor = getComputedStyle(topmostdiv).getPropertyValue('--pcb-edge-color');
  for (var edge of pcbdata.edges) {
    drawDrawing(ctx, scalefactor, edge, edgecolor);
  }
}

function drawFootprints(canvas, layer, scalefactor, highlight) {
  var ctx = canvas.getContext("2d");
  ctx.lineWidth = 3 / scalefactor;
  var style = getComputedStyle(topmostdiv);

  var colors = {
    pad: style.getPropertyValue('--pad-color'),
    padHole: style.getPropertyValue('--pad-hole-color'),
    outline: style.getPropertyValue('--pin1-outline-color'),
  }

  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var mod = pcbdata.footprints[i];
    var outline = settings.renderDnpOutline && pcbdata.bom.skipped.includes(i);
    var h = highlightedFootprints.includes(i);
    var d = markedFootprints.has(i);
    if (highlight) {
      if(h && d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-both');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-both');
      } else if (h) {
        colors.pad = style.getPropertyValue('--pad-color-highlight');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight');
      } else if (d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-marked');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-marked');
      }
    }
    if( h || d || !highlight) {
      drawFootprint(ctx, layer, scalefactor, mod, colors, highlight, outline);
    }
  }
}

function drawBgLayer(layername, canvas, layer, scalefactor, edgeColor, polygonColor, textColor) {
  var ctx = canvas.getContext("2d");
  for (var d of pcbdata.drawings[layername][layer]) {
    if (["segment", "arc", "circle", "curve", "rect"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, edgeColor);
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, polygonColor);
    } else {
      drawText(ctx, d, textColor);
    }
  }
}

function drawTracks(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineCap = "round";

  var hasHole = (track) => (
    'drillsize' in track &&
    track.start[0] == track.end[0] &&
    track.start[1] == track.end[1]);

  // First draw tracks and tented vias
  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    if (!hasHole(track)) {
      ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
      ctx.lineWidth = track.width;
      ctx.beginPath();
      if ('radius' in track) {
        ctx.arc(
          ...track.center,
          track.radius,
          deg2rad(track.startangle),
          deg2rad(track.endangle));
      } else {
        ctx.moveTo(...track.start);
        ctx.lineTo(...track.end);
      }
      ctx.stroke();
    }
  }
  // Second pass to draw untented vias
  var style = getComputedStyle(topmostdiv);
  var holeColor = style.getPropertyValue('--pad-hole-color')

  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    if (hasHole(track)) {
      ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
      ctx.lineWidth = track.width;
      ctx.beginPath();
      ctx.moveTo(...track.start);
      ctx.lineTo(...track.end);
      ctx.stroke();
      ctx.strokeStyle = holeColor;
      ctx.lineWidth = track.drillsize;
      ctx.lineTo(...track.end);
      ctx.stroke();
    }
  }
}

function drawZones(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineJoin = "round";
  for (var zone of pcbdata.zones[layer]) {
    if (highlight && highlightedNet != zone.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    ctx.fillStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    if (!zone.path2d) {
      zone.path2d = getPolygonsPath(zone);
    }
    ctx.fill(zone.path2d, zone.fillrule || "nonzero");
    if (zone.width > 0) {
      ctx.lineWidth = zone.width;
      ctx.stroke(zone.path2d);
    }
  }
}

function clearCanvas(canvas, color = null) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  if (color) {
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    if (!window.matchMedia("print").matches)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  ctx.restore();
}

function drawNets(canvas, layer, highlight) {
  var style = getComputedStyle(topmostdiv);
  if (settings.renderZones) {
    var zoneColor = style.getPropertyValue(highlight ? '--zone-color-highlight' : '--zone-color');
    drawZones(canvas, layer, zoneColor, highlight);
  }
  if (settings.renderTracks) {
    var trackColor = style.getPropertyValue(highlight ? '--track-color-highlight' : '--track-color');
    drawTracks(canvas, layer, trackColor, highlight);
  }
  if (highlight && settings.renderPads) {
    var padColor = style.getPropertyValue('--pad-color-highlight');
    var padHoleColor = style.getPropertyValue('--pad-hole-color');
    var ctx = canvas.getContext("2d");
    for (var footprint of pcbdata.footprints) {
      // draw pads
      var padDrawn = false;
      for (var pad of footprint.pads) {
        if (highlightedNet != pad.net) continue;
        if (pad.layers.includes(layer)) {
          drawPad(ctx, pad, padColor, false);
          padDrawn = true;
        }
      }
      if (padDrawn) {
        // redraw all pad holes because some pads may overlap
        for (var pad of footprint.pads) {
          drawPadHole(ctx, pad, padHoleColor);
        }
      }
    }
  }
}

function drawHighlightsOnLayer(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.highlight);
  }
  if (markedFootprints.size > 0 || highlightedFootprints.length > 0) {
    drawFootprints(canvasdict.highlight, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom, true);
  }
  if (highlightedNet !== null) {
    drawNets(canvasdict.highlight, canvasdict.layer, true);
  }
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.bg);
    clearCanvas(canvasdict.fab);
    clearCanvas(canvasdict.silk);
  }

  drawNets(canvasdict.bg, canvasdict.layer, false);
  drawFootprints(canvasdict.bg, canvasdict.layer,
    canvasdict.transform.s * canvasdict.transform.zoom, false);

  drawEdgeCuts(canvasdict.bg, canvasdict.transform.s * canvasdict.transform.zoom);

  var style = getComputedStyle(topmostdiv);
  var edgeColor = style.getPropertyValue('--silkscreen-edge-color');
  var polygonColor = style.getPropertyValue('--silkscreen-polygon-color');
  var textColor = style.getPropertyValue('--silkscreen-text-color');
  if (settings.renderSilkscreen) {
    drawBgLayer(
      "silkscreen", canvasdict.silk, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
  edgeColor = style.getPropertyValue('--fabrication-edge-color');
  polygonColor = style.getPropertyValue('--fabrication-polygon-color');
  textColor = style.getPropertyValue('--fabrication-text-color');
  if (settings.renderFabrication) {
    drawBgLayer(
      "fabrication", canvasdict.fab, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.rotate(deg2rad(settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  var flip = (canvasdict.layer === "B");
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function rotateVector(v, angle) {
  angle = deg2rad(angle);
  return [
    v[0] * Math.cos(angle) - v[1] * Math.sin(angle),
    v[0] * Math.sin(angle) + v[1] * Math.cos(angle)
  ];
}

function applyRotation(bbox, flip) {
  var corners = [
    [bbox.minx, bbox.miny],
    [bbox.minx, bbox.maxy],
    [bbox.maxx, bbox.miny],
    [bbox.maxx, bbox.maxy],
  ];
  corners = corners.map((v) => rotateVector(v, settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  return {
    minx: corners.reduce((a, v) => Math.min(a, v[0]), Infinity),
    miny: corners.reduce((a, v) => Math.min(a, v[1]), Infinity),
    maxx: corners.reduce((a, v) => Math.max(a, v[0]), -Infinity),
    maxy: corners.reduce((a, v) => Math.max(a, v[1]), -Infinity),
  }
}

function recalcLayerScale(layerdict, width, height) {
  var flip = (layerdict.layer === "B");
  var bbox = applyRotation(pcbdata.edges_bbox, flip);
  var scalefactor = 0.98 * Math.min(
    width / (bbox.maxx - bbox.minx),
    height / (bbox.maxy - bbox.miny)
  );
  if (scalefactor < 0.1) {
    scalefactor = 1;
  }
  layerdict.transform.s = scalefactor;
  if (flip) {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor + width) * 0.5;
  } else {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor - width) * 0.5;
  }
  layerdict.transform.y = -((bbox.maxy + bbox.miny) * scalefactor - height) * 0.5;
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    canvas = layerdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / devicePixelRatio) + "px";
    canvas.style.height = (height / devicePixelRatio) + "px";
  }
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlightsOnLayer(layerdict);
}

function resizeCanvas(layerdict) {
  var canvasdivid = {
    "F": "frontcanvas",
    "B": "backcanvas"
  } [layerdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * devicePixelRatio;
  var height = document.getElementById(canvasdivid).clientHeight * devicePixelRatio;
  recalcLayerScale(layerdict, width, height);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function pointWithinDistanceToSegment(x, y, x1, y1, x2, y2, d) {
  var A = x - x1;
  var B = y - y1;
  var C = x2 - x1;
  var D = y2 - y1;

  var dot = A * C + B * D;
  var len_sq = C * C + D * D;
  var dx, dy;
  if (len_sq == 0) {
    // start and end of the segment coincide
    dx = x - x1;
    dy = y - y1;
  } else {
    var param = dot / len_sq;
    var xx, yy;
    if (param < 0) {
      xx = x1;
      yy = y1;
    } else if (param > 1) {
      xx = x2;
      yy = y2;
    } else {
      xx = x1 + param * C;
      yy = y1 + param * D;
    }
    dx = x - xx;
    dy = y - yy;
  }
  return dx * dx + dy * dy <= d * d;
}

function modulo(n, mod) {
  return ((n % mod) + mod) % mod;
}

function pointWithinDistanceToArc(x, y, xc, yc, radius, startangle, endangle, d) {
  var dx = x - xc;
  var dy = y - yc;
  var r_sq = dx * dx + dy * dy;
  var rmin = Math.max(0, radius - d);
  var rmax = radius + d;

  if (r_sq < rmin * rmin || r_sq > rmax * rmax)
    return false;

  var angle1 = modulo(deg2rad(startangle), 2 * Math.PI);
  var dx1 = xc + radius * Math.cos(angle1) - x;
  var dy1 = yc + radius * Math.sin(angle1) - y;
  if (dx1 * dx1 + dy1 * dy1 <= d * d)
    return true;

  var angle2 = modulo(deg2rad(endangle), 2 * Math.PI);
  var dx2 = xc + radius * Math.cos(angle2) - x;
  var dy2 = yc + radius * Math.sin(angle2) - y;
  if (dx2 * dx2 + dy2 * dy2 <= d * d)
    return true;

  var angle = modulo(Math.atan2(dy, dx), 2 * Math.PI);
  if (angle1 > angle2)
    return (angle >= angle2 || angle <= angle1);
  else
    return (angle >= angle1 && angle <= angle2);
}

function pointWithinPad(x, y, pad) {
  var v = [x - pad.pos[0], y - pad.pos[1]];
  v = rotateVector(v, pad.angle);
  if (pad.offset) {
    v[0] -= pad.offset[0];
    v[1] -= pad.offset[1];
  }
  return emptyContext2d.isPointInPath(getCachedPadPath(pad), ...v);
}

function netHitScan(layer, x, y) {
  // Check track segments
  if (settings.renderTracks && pcbdata.tracks) {
    for (var track of pcbdata.tracks[layer]) {
      if ('radius' in track) {
        if (pointWithinDistanceToArc(x, y, ...track.center, track.radius, track.startangle, track.endangle, track.width / 2)) {
          return track.net;
        }
      } else {
        if (pointWithinDistanceToSegment(x, y, ...track.start, ...track.end, track.width / 2)) {
          return track.net;
        }
      }
    }
  }
  // Check pads
  if (settings.renderPads) {
    for (var footprint of pcbdata.footprints) {
      for (var pad of footprint.pads) {
        if (pad.layers.includes(layer) && pointWithinPad(x, y, pad)) {
          return pad.net;
        }
      }
    }
  }
  return null;
}

function pointWithinFootprintBbox(x, y, bbox) {
  var v = [x - bbox.pos[0], y - bbox.pos[1]];
  v = rotateVector(v, bbox.angle);
  return bbox.relpos[0] <= v[0] && v[0] <= bbox.relpos[0] + bbox.size[0] &&
    bbox.relpos[1] <= v[1] && v[1] <= bbox.relpos[1] + bbox.size[1];
}

function bboxHitScan(layer, x, y) {
  var result = [];
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var footprint = pcbdata.footprints[i];
    if (footprint.layer == layer) {
      if (pointWithinFootprintBbox(x, y, footprint.bbox)) {
        result.push(i);
      }
    }
  }
  return result;
}

function handlePointerDown(e, layerdict) {
  if (e.button != 0 && e.button != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  layerdict.pointerStates[e.pointerId] = {
    distanceTravelled: 0,
    lastX: e.offsetX,
    lastY: e.offsetY,
    downTime: Date.now(),
  };
}

function handleMouseClick(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var x = e.offsetX;
  var y = e.offsetY;
  var t = layerdict.transform;
  var flip = layerdict.layer === "B";
  if (flip) {
    x = (devicePixelRatio * x / t.zoom - t.panx + t.x) / -t.s;
  } else {
    x = (devicePixelRatio * x / t.zoom - t.panx - t.x) / t.s;
  }
  y = (devicePixelRatio * y / t.zoom - t.y - t.pany) / t.s;
  var v = rotateVector([x, y], -settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0));
  if ("nets" in pcbdata) {
    var net = netHitScan(layerdict.layer, ...v);
    if (net !== highlightedNet) {
      netClicked(net);
    }
  }
  if (highlightedNet === null) {
    var footprints = bboxHitScan(layerdict.layer, ...v);
    if (footprints.length > 0) {
      footprintsClicked(footprints);
    }
  }
}

function handlePointerLeave(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();

  if (!settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }

  delete layerdict.pointerStates[e.pointerId];
}

function resetTransform(layerdict) {
  layerdict.transform.panx = 0;
  layerdict.transform.pany = 0;
  layerdict.transform.zoom = 1;
  redrawCanvas(layerdict);
}

function handlePointerUp(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  e.preventDefault();
  e.stopPropagation();

  if (e.button == 2) {
    // Reset pan and zoom on right click.
    resetTransform(layerdict);
    layerdict.anotherPointerTapped = false;
    return;
  }

  // We haven't necessarily had a pointermove event since the interaction started, so make sure we update this now
  var ptr = layerdict.pointerStates[e.pointerId];
  ptr.distanceTravelled += Math.abs(e.offsetX - ptr.lastX) + Math.abs(e.offsetY - ptr.lastY);

  if (e.button == 0 && ptr.distanceTravelled < 10 && Date.now() - ptr.downTime <= 500) {
    if (Object.keys(layerdict.pointerStates).length == 1) {
      if (layerdict.anotherPointerTapped) {
        // This is the second pointer coming off of a two-finger tap
        resetTransform(layerdict);
      } else {
        // This is just a regular tap
        handleMouseClick(e, layerdict);
      }
      layerdict.anotherPointerTapped = false;
    } else {
      // This is the first finger coming off of what could become a two-finger tap
      layerdict.anotherPointerTapped = true;
    }
  } else {
    if (!settings.redrawOnDrag) {
      redrawCanvas(layerdict);
    }
    layerdict.anotherPointerTapped = false;
  }

  delete layerdict.pointerStates[e.pointerId];
}

function handlePointerMove(e, layerdict) {
  if (!layerdict.pointerStates.hasOwnProperty(e.pointerId)) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var thisPtr = layerdict.pointerStates[e.pointerId];

  var dx = e.offsetX - thisPtr.lastX;
  var dy = e.offsetY - thisPtr.lastY;

  // If this number is low on pointer up, we count the action as a click
  thisPtr.distanceTravelled += Math.abs(dx) + Math.abs(dy);

  if (Object.keys(layerdict.pointerStates).length == 1) {
    // This is a simple drag
    layerdict.transform.panx += devicePixelRatio * dx / layerdict.transform.zoom;
    layerdict.transform.pany += devicePixelRatio * dy / layerdict.transform.zoom;
  } else if (Object.keys(layerdict.pointerStates).length == 2) {
    var otherPtr = Object.values(layerdict.pointerStates).filter((ptr) => ptr != thisPtr)[0];

    var oldDist = Math.sqrt(Math.pow(thisPtr.lastX - otherPtr.lastX, 2) + Math.pow(thisPtr.lastY - otherPtr.lastY, 2));
    var newDist = Math.sqrt(Math.pow(e.offsetX - otherPtr.lastX, 2) + Math.pow(e.offsetY - otherPtr.lastY, 2));

    var scaleFactor = newDist / oldDist;

    if (scaleFactor != NaN) {
      layerdict.transform.zoom *= scaleFactor;

      var zoomd = (1 - scaleFactor) / layerdict.transform.zoom;
      layerdict.transform.panx += devicePixelRatio * otherPtr.lastX * zoomd;
      layerdict.transform.pany += devicePixelRatio * otherPtr.lastY * zoomd;
    }
  }

  thisPtr.lastX = e.offsetX;
  thisPtr.lastY = e.offsetY;

  if (settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  var t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  var m = Math.pow(1.1, -wheeldelta / 40);
  // Limit amount of zoom per tick.
  if (m > 2) {
    m = 2;
  } else if (m < 0.5) {
    m = 0.5;
  }
  t.zoom *= m;
  var zoomd = (1 - m) / t.zoom;
  t.panx += devicePixelRatio * e.offsetX * zoomd;
  t.pany += devicePixelRatio * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.addEventListener("pointerdown", function(e) {
    handlePointerDown(e, layerdict);
  });
  div.addEventListener("pointermove", function(e) {
    handlePointerMove(e, layerdict);
  });
  div.addEventListener("pointerup", function(e) {
    handlePointerUp(e, layerdict);
  });
  var pointerleave = function(e) {
    handlePointerLeave(e, layerdict);
  }
  div.addEventListener("pointercancel", pointerleave);
  div.addEventListener("pointerleave", pointerleave);
  div.addEventListener("pointerout", pointerleave);

  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (var element of [div, layerdict.bg, layerdict.fab, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  settings.redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function setBoardRotation(value) {
  settings.boardRotation = value * 5;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  resizeAll();
}

function setOffsetBackRotation(value) {
  settings.offsetBackRotation = value;
  writeStorage("offsetBackRotation", value);
  resizeAll();
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("F_bg"),
      fab: document.getElementById("F_fab"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("B_bg"),
      fab: document.getElementById("B_fab"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/*
 * Table reordering via Drag'n'Drop
 * Inspired by: https://htmldom.dev/drag-and-drop-table-column
 */

function setBomHandlers() {

  const bom = document.getElementById('bomtable');

  let dragName;
  let placeHolderElements;
  let draggingElement;
  let forcePopulation;
  let xOffset;
  let yOffset;
  let wasDragged;

  const mouseUpHandler = function(e) {
    // Delete dragging element
    draggingElement.remove();

    // Make BOM selectable again
    bom.style.removeProperty("userSelect");

    // Remove listeners
    document.removeEventListener('mousemove', mouseMoveHandler);
    document.removeEventListener('mouseup', mouseUpHandler);

    if (wasDragged) {
      // Redraw whole BOM
      populateBomTable();
    }
  }

  const mouseMoveHandler = function(e) {
    // Notice the dragging
    wasDragged = true;

    // Make the dragged element visible
    draggingElement.style.removeProperty("display");

    // Set elements position to mouse position
    draggingElement.style.left = `${e.screenX - xOffset}px`;
    draggingElement.style.top = `${e.screenY - yOffset}px`;

    // Forced redrawing of BOM table
    if (forcePopulation) {
      forcePopulation = false;
      // Copy array
      phe = Array.from(placeHolderElements);
      // populate BOM table again
      populateBomHeader(dragName, phe);
      populateBomBody(dragName, phe);
    }

    // Set up array of hidden columns
    var hiddenColumns = Array.from(settings.hiddenColumns);
    // In the ungrouped mode, quantity don't exist
    if (settings.bommode === "ungrouped")
      hiddenColumns.push("Quantity");
    // If no checkbox fields can be found, we consider them hidden
    if (settings.checkboxes.length == 0)
      hiddenColumns.push("checkboxes");

    // Get table headers and group them into checkboxes, extrafields and normal headers
    const bh = document.getElementById("bomhead");
    headers = Array.from(bh.querySelectorAll("th"))
    headers.shift() // numCol is not part of the columnOrder
    headerGroups = []
    lastCompoundClass = null;
    for (i = 0; i < settings.columnOrder.length; i++) {
      cElem = settings.columnOrder[i];
      if (hiddenColumns.includes(cElem)) {
        // Hidden columns appear as a dummy element
        headerGroups.push([]);
        continue;
      }
      elem = headers.filter(e => getColumnOrderName(e) === cElem)[0];
      if (elem.classList.contains("bom-checkbox")) {
        if (lastCompoundClass === "bom-checkbox") {
          cbGroup = headerGroups.pop();
          cbGroup.push(elem);
          headerGroups.push(cbGroup);
        } else {
          lastCompoundClass = "bom-checkbox";
          headerGroups.push([elem])
        }
      } else {
        headerGroups.push([elem])
      }
    }

    // Copy settings.columnOrder
    var columns = Array.from(settings.columnOrder)

    // Set up array with indices of hidden columns
    var hiddenIndices = hiddenColumns.map(e => settings.columnOrder.indexOf(e));
    var dragIndex = columns.indexOf(dragName);
    var swapIndex = dragIndex;
    var swapDone = false;

    // Check if the current dragged element is swapable with the left or right element
    if (dragIndex > 0) {
      // Get left headers boundingbox
      swapIndex = dragIndex - 1;
      while (hiddenIndices.includes(swapIndex) && swapIndex > 0)
        swapIndex--;
      if (!hiddenIndices.includes(swapIndex)) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX < box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }
    if ((!swapDone) && dragIndex < headerGroups.length - 1) {
      // Get right headers boundingbox
      swapIndex = dragIndex + 1;
      while (hiddenIndices.includes(swapIndex))
        swapIndex++;
      if (swapIndex < headerGroups.length) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX > box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }

    // Write back change to storage
    if (swapDone) {
      settings.columnOrder = columns
      writeStorage("columnOrder", JSON.stringify(columns));
    }

  }

  const mouseDownHandler = function(e) {
    var target = e.target;
    if (target.tagName.toLowerCase() != "td")
      target = target.parentElement;

    // Used to check if a dragging has ever happened
    wasDragged = false;

    // Create new element which will be displayed as the dragged column
    draggingElement = document.createElement("div")
    draggingElement.classList.add("dragging");
    draggingElement.style.display = "none";
    draggingElement.style.position = "absolute";
    draggingElement.style.overflow = "hidden";

    // Get bomhead and bombody elements
    const bh = document.getElementById("bomhead");
    const bb = document.getElementById("bombody");

    // Get all compound headers for the current column
    var compoundHeaders;
    if (target.classList.contains("bom-checkbox")) {
      compoundHeaders = Array.from(bh.querySelectorAll("th.bom-checkbox"));
    } else {
      compoundHeaders = [target];
    }

    // Create new table which will display the column
    var newTable = document.createElement("table");
    newTable.classList.add("bom");
    newTable.style.background = "white";
    draggingElement.append(newTable);

    // Create new header element
    var newHeader = document.createElement("thead");
    newTable.append(newHeader);

    // Set up array for storing all placeholder elements
    placeHolderElements = [];

    // Add all compound headers to the new thead element and placeholders
    compoundHeaders.forEach(function(h) {
      clone = cloneElementWithDimensions(h);
      newHeader.append(clone);
      placeHolderElements.push(clone);
    });

    // Create new body element
    var newBody = document.createElement("tbody");
    newTable.append(newBody);

    // Get indices for compound headers
    var idxs = compoundHeaders.map(e => getBomTableHeaderIndex(e));

    // For each row in the BOM body...
    var rows = bb.querySelectorAll("tr");
    rows.forEach(function(row) {
      // ..get the cells for the compound column
      const tds = row.querySelectorAll("td");
      var copytds = idxs.map(i => tds[i]);
      // Add them to the new element and the placeholders
      var newRow = document.createElement("tr");
      copytds.forEach(function(td) {
        clone = cloneElementWithDimensions(td);
        newRow.append(clone);
        placeHolderElements.push(clone);
      });
      newBody.append(newRow);
    });

    // Compute width for compound header
    var width = compoundHeaders.reduce((acc, x) => acc + x.clientWidth, 0);
    draggingElement.style.width = `${width}px`;

    // Insert the new dragging element and disable selection on BOM
    bom.insertBefore(draggingElement, null);
    bom.style.userSelect = "none";

    // Determine the mouse position offset
    xOffset = e.screenX - compoundHeaders.reduce((acc, x) => Math.min(acc, x.offsetLeft), compoundHeaders[0].offsetLeft);
    yOffset = e.screenY - compoundHeaders[0].offsetTop;

    // Get name for the column in settings.columnOrder
    dragName = getColumnOrderName(target);

    // Change text and class for placeholder elements
    placeHolderElements = placeHolderElements.map(function(e) {
      newElem = cloneElementWithDimensions(e);
      newElem.textContent = "";
      newElem.classList.add("placeholder");
      return newElem;
    });

    // On next mouse move, the whole BOM needs to be redrawn to show the placeholders
    forcePopulation = true;

    // Add listeners for move and up on mouse
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
  }

  // In netlist mode, there is nothing to reorder
  if (settings.bommode === "netlist")
    return;

  // Add mouseDownHandler to every column except the numCol
  bom.querySelectorAll("th")
    .forEach(function(head) {
      if (!head.classList.contains("numCol")) {
        head.onmousedown = mouseDownHandler;
      }
    });

}

function getBoundingClientRectFromMultiple(elements) {
  var elems = Array.from(elements);

  if (elems.length == 0)
    return null;

  var box = elems.shift()
    .getBoundingClientRect();

  elems.forEach(function(elem) {
    var elembox = elem.getBoundingClientRect();
    box.left = Math.min(elembox.left, box.left);
    box.top = Math.min(elembox.top, box.top);
    box.width += elembox.width;
    box.height = Math.max(elembox.height, box.height);
  });

  return box;
}

function cloneElementWithDimensions(elem) {
  var newElem = elem.cloneNode(true);
  newElem.style.height = window.getComputedStyle(elem).height;
  newElem.style.width = window.getComputedStyle(elem).width;
  return newElem;
}

function getBomTableHeaderIndex(elem) {
  const bh = document.getElementById('bomhead');
  const ths = Array.from(bh.querySelectorAll("th"));
  return ths.indexOf(elem);
}

function getColumnOrderName(elem) {
  var cname = elem.getAttribute("col_name");
  if (cname === "bom-checkbox")
    return "checkboxes";
  else
    return cname;
}

function resizableGrid(tablehead) {
  var cols = tablehead.firstElementChild.children;
  var rowWidth = tablehead.offsetWidth;

  for (var i = 1; i < cols.length; i++) {
    if (cols[i].classList.contains("bom-checkbox"))
      continue;
    cols[i].style.width = ((cols[i].clientWidth - paddingDiff(cols[i])) * 100 / rowWidth) + '%';
  }

  for (var i = 1; i < cols.length - 1; i++) {
    var div = document.createElement('div');
    div.className = "column-width-handle";
    cols[i].appendChild(div);
    setListeners(div);
  }

  function setListeners(div) {
    var startX, curCol, nxtCol, curColWidth, nxtColWidth, rowWidth;

    div.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();

      curCol = e.target.parentElement;
      nxtCol = curCol.nextElementSibling;
      startX = e.pageX;

      var padding = paddingDiff(curCol);

      rowWidth = curCol.parentElement.offsetWidth;
      curColWidth = curCol.clientWidth - padding;
      nxtColWidth = nxtCol.clientWidth - padding;
    });

    document.addEventListener('mousemove', function(e) {
      if (startX) {
        var diffX = e.pageX - startX;
        diffX = -Math.min(-diffX, curColWidth - 20);
        diffX = Math.min(diffX, nxtColWidth - 20);

        curCol.style.width = ((curColWidth + diffX) * 100 / rowWidth) + '%';
        nxtCol.style.width = ((nxtColWidth - diffX) * 100 / rowWidth) + '%';
        console.log(`${curColWidth + nxtColWidth} ${(curColWidth + diffX) * 100 / rowWidth + (nxtColWidth - diffX) * 100 / rowWidth}`);
      }
    });

    document.addEventListener('mouseup', function(e) {
      curCol = undefined;
      nxtCol = undefined;
      startX = undefined;
      nxtColWidth = undefined;
      curColWidth = undefined
    });
  }

  function paddingDiff(col) {

    if (getStyleVal(col, 'box-sizing') == 'border-box') {
      return 0;
    }

    var padLeft = getStyleVal(col, 'padding-left');
    var padRight = getStyleVal(col, 'padding-right');
    return (parseInt(padLeft) + parseInt(padRight));

  }

  function getStyleVal(elm, css) {
    return (window.getComputedStyle(elm, null).getPropertyValue(css))
  }
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var bomsplit;
var canvassplit;
var initDone = false;
var bomSortFunction = null;
var currentSortColumn = null;
var currentSortOrder = null;
var currentHighlightedRowId;
var highlightHandlers = [];
var footprintIndexToHandler = {};
var netsToHandler = {};
var markedFootprints = new Set();
var highlightedFootprints = [];
var highlightedNet = null;
var lastClicked;

function dbg(html) {
  dbgdiv.innerHTML = html;
}

function redrawIfInitDone() {
  if (initDone) {
    redrawCanvas(allcanvas.front);
    redrawCanvas(allcanvas.back);
  }
}

function padsVisible(value) {
  writeStorage("padsVisible", value);
  settings.renderPads = value;
  redrawIfInitDone();
}

function referencesVisible(value) {
  writeStorage("referencesVisible", value);
  settings.renderReferences = value;
  redrawIfInitDone();
}

function valuesVisible(value) {
  writeStorage("valuesVisible", value);
  settings.renderValues = value;
  redrawIfInitDone();
}

function tracksVisible(value) {
  writeStorage("tracksVisible", value);
  settings.renderTracks = value;
  redrawIfInitDone();
}

function zonesVisible(value) {
  writeStorage("zonesVisible", value);
  settings.renderZones = value;
  redrawIfInitDone();
}

function dnpOutline(value) {
  writeStorage("dnpOutline", value);
  settings.renderDnpOutline = value;
  redrawIfInitDone();
}

function setDarkMode(value) {
  if (value) {
    topmostdiv.classList.add("dark");
  } else {
    topmostdiv.classList.remove("dark");
  }
  writeStorage("darkmode", value);
  settings.darkMode = value;
  redrawIfInitDone();
  if (initDone) {
    populateBomTable();
  }
}

function setShowBOMColumn(field, value) {
  if (field === "references") {
    var rl = document.getElementById("reflookup");
    rl.disabled = !value;
    if (!value) {
      rl.value = "";
      updateRefLookup("");
    }
  }

  var n = settings.hiddenColumns.indexOf(field);
  if (value) {
    if (n != -1) {
      settings.hiddenColumns.splice(n, 1);
    }
  } else {
    if (n == -1) {
      settings.hiddenColumns.push(field);
    }
  }

  writeStorage("hiddenColumns", JSON.stringify(settings.hiddenColumns));

  if (initDone) {
    populateBomTable();
  }

  redrawIfInitDone();
}


function setFullscreen(value) {
  if (value) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

function fabricationVisible(value) {
  writeStorage("fabricationVisible", value);
  settings.renderFabrication = value;
  redrawIfInitDone();
}

function silkscreenVisible(value) {
  writeStorage("silkscreenVisible", value);
  settings.renderSilkscreen = value;
  redrawIfInitDone();
}

function setHighlightPin1(value) {
  writeStorage("highlightpin1", value);
  settings.highlightpin1 = value;
  redrawIfInitDone();
}

function getStoredCheckboxRefs(checkbox) {
  function convert(ref) {
    var intref = parseInt(ref);
    if (isNaN(intref)) {
      for (var i = 0; i < pcbdata.footprints.length; i++) {
        if (pcbdata.footprints[i].ref == ref) {
          return i;
        }
      }
      return -1;
    } else {
      return intref;
    }
  }
  if (!(checkbox in settings.checkboxStoredRefs)) {
    var val = readStorage("checkbox_" + checkbox);
    settings.checkboxStoredRefs[checkbox] = val ? val : "";
  }
  if (!settings.checkboxStoredRefs[checkbox]) {
    return new Set();
  } else {
    return new Set(settings.checkboxStoredRefs[checkbox].split(",").map(r => convert(r)).filter(a => a >= 0));
  }
}

function getCheckboxState(checkbox, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references.map(r => r[1]));
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    return "checked";
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    return "unchecked";
  } else {
    // Some of the refs are stored
    return "indeterminate";
  }
}

function setBomCheckboxState(checkbox, element, references) {
  var state = getCheckboxState(checkbox, references);
  element.checked = (state == "checked");
  element.indeterminate = (state == "indeterminate");
}

function createCheckboxChangeHandler(checkbox, references, row) {
  return function () {
    refsSet = getStoredCheckboxRefs(checkbox);
    var markWhenChecked = settings.markWhenChecked == checkbox;
    eventArgs = {
      checkbox: checkbox,
      refs: references,
    }
    if (this.checked) {
      // checkbox ticked
      for (var ref of references) {
        refsSet.add(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.add("checked");
        for (var ref of references) {
          markedFootprints.add(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'checked';
    } else {
      // checkbox unticked
      for (var ref of references) {
        refsSet.delete(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.remove("checked");
        for (var ref of references) {
          markedFootprints.delete(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'unchecked';
    }
    settings.checkboxStoredRefs[checkbox] = [...refsSet].join(",");
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
    updateCheckboxStats(checkbox);
    EventHandler.emitEvent(IBOM_EVENT_TYPES.CHECKBOX_CHANGE_EVENT, eventArgs);
  }
}

function clearHighlightedFootprints() {
  if (currentHighlightedRowId) {
    document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    currentHighlightedRowId = null;
    highlightedFootprints = [];
    highlightedNet = null;
  }
}

function createRowHighlightHandler(rowid, refs, net) {
  return function () {
    if (currentHighlightedRowId) {
      if (currentHighlightedRowId == rowid) {
        return;
      }
      document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    }
    document.getElementById(rowid).classList.add("highlighted");
    currentHighlightedRowId = rowid;
    highlightedFootprints = refs ? refs.map(r => r[1]) : [];
    highlightedNet = net;
    drawHighlights();
    EventHandler.emitEvent(
      IBOM_EVENT_TYPES.HIGHLIGHT_EVENT, {
      rowid: rowid,
      refs: refs,
      net: net
    });
  }
}

function updateNetColors() {
  writeStorage("netColors", JSON.stringify(settings.netColors));
  redrawIfInitDone();
}

function netColorChangeHandler(net) {
  return (event) => {
    settings.netColors[net] = event.target.value;
    updateNetColors();
  }
}

function netColorRightClick(net) {
  return (event) => {
    if (event.button == 2) {
      event.preventDefault();
      event.stopPropagation();

      var style = getComputedStyle(topmostdiv);
      var defaultNetColor = style.getPropertyValue('--track-color').trim();
      event.target.value = defaultNetColor;
      delete settings.netColors[net];
      updateNetColors();
    }
  }
}

function entryMatches(entry) {
  if (settings.bommode == "netlist") {
    // entry is just a net name
    return entry.toLowerCase().indexOf(filter) >= 0;
  }
  // check refs
  if (!settings.hiddenColumns.includes("references")) {
    for (var ref of entry) {
      if (ref[0].toLowerCase().indexOf(filter) >= 0) {
        return true;
      }
    }
  }
  // check fields
  for (var i in config.fields) {
    var f = config.fields[i];
    if (!settings.hiddenColumns.includes(f)) {
      for (var ref of entry) {
        if (String(pcbdata.bom.fields[ref[1]][i]).toLowerCase().indexOf(filter) >= 0) {
          return true;
        }
      }
    }
  }
  return false;
}

function findRefInEntry(entry) {
  return entry.filter(r => r[0].toLowerCase() == reflookup);
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (var i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function checkboxSetUnsetAllHandler(checkboxname) {
  return function () {
    var checkboxnum = 0;
    while (checkboxnum < settings.checkboxes.length &&
      settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
      checkboxnum++;
    }
    if (checkboxnum >= settings.checkboxes.length) {
      return;
    }
    var allset = true;
    var checkbox;
    var row;
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      if (!checkbox.checked || checkbox.indeterminate) {
        allset = false;
        break;
      }
    }
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      checkbox.checked = !allset;
      checkbox.indeterminate = false;
      checkbox.onchange();
    }
  }
}

function createColumnHeader(name, cls, comparator, is_checkbox = false) {
  var th = document.createElement("TH");
  th.innerHTML = name;
  th.classList.add(cls);
  if (is_checkbox)
    th.setAttribute("col_name", "bom-checkbox");
  else
    th.setAttribute("col_name", name);
  var span = document.createElement("SPAN");
  span.classList.add("sortmark");
  span.classList.add("none");
  th.appendChild(span);
  var spacer = document.createElement("div");
  spacer.className = "column-spacer";
  th.appendChild(spacer);
  spacer.onclick = function () {
    if (currentSortColumn && th !== currentSortColumn) {
      // Currently sorted by another column
      currentSortColumn.childNodes[1].classList.remove(currentSortOrder);
      currentSortColumn.childNodes[1].classList.add("none");
      currentSortColumn = null;
      currentSortOrder = null;
    }
    if (currentSortColumn && th === currentSortColumn) {
      // Already sorted by this column
      if (currentSortOrder == "asc") {
        // Sort by this column, descending order
        bomSortFunction = function (a, b) {
          return -comparator(a, b);
        }
        currentSortColumn.childNodes[1].classList.remove("asc");
        currentSortColumn.childNodes[1].classList.add("desc");
        currentSortOrder = "desc";
      } else {
        // Unsort
        bomSortFunction = null;
        currentSortColumn.childNodes[1].classList.remove("desc");
        currentSortColumn.childNodes[1].classList.add("none");
        currentSortColumn = null;
        currentSortOrder = null;
      }
    } else {
      // Sort by this column, ascending order
      bomSortFunction = comparator;
      currentSortColumn = th;
      currentSortColumn.childNodes[1].classList.remove("none");
      currentSortColumn.childNodes[1].classList.add("asc");
      currentSortOrder = "asc";
    }
    populateBomBody();
  }
  if (is_checkbox) {
    spacer.onclick = fancyDblClickHandler(
      spacer, spacer.onclick, checkboxSetUnsetAllHandler(name));
  }
  return th;
}

function populateBomHeader(placeHolderColumn = null, placeHolderElements = null) {
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  var tr = document.createElement("TR");
  var th = document.createElement("TH");
  th.classList.add("numCol");

  var vismenu = document.createElement("div");
  vismenu.id = "vismenu";
  vismenu.classList.add("menu");

  var visbutton = document.createElement("div");
  visbutton.classList.add("visbtn");
  visbutton.classList.add("hideonprint");

  var viscontent = document.createElement("div");
  viscontent.classList.add("menu-content");
  viscontent.id = "vismenu-content";

  settings.columnOrder.forEach(column => {
    if (typeof column !== "string")
      return;

    // Skip empty columns
    if (column === "checkboxes" && settings.checkboxes.length == 0)
      return;
    else if (column === "Quantity" && settings.bommode == "ungrouped")
      return;

    var label = document.createElement("label");
    label.classList.add("menu-label");

    var input = document.createElement("input");
    input.classList.add("visibility_checkbox");
    input.type = "checkbox";
    input.onchange = function (e) {
      setShowBOMColumn(column, e.target.checked)
    };
    input.checked = !(settings.hiddenColumns.includes(column));

    label.appendChild(input);
    if (column.length > 0)
      label.append(column[0].toUpperCase() + column.slice(1));

    viscontent.appendChild(label);
  });

  viscontent.childNodes[0].classList.add("menu-label-top");

  vismenu.appendChild(visbutton);
  if (settings.bommode != "netlist") {
    vismenu.appendChild(viscontent);
    th.appendChild(vismenu);
  }
  tr.appendChild(th);

  var checkboxCompareClosure = function (checkbox) {
    return (a, b) => {
      var stateA = getCheckboxState(checkbox, a);
      var stateB = getCheckboxState(checkbox, b);
      if (stateA > stateB) return -1;
      if (stateA < stateB) return 1;
      return 0;
    }
  }
  var stringFieldCompareClosure = function (fieldIndex) {
    return (a, b) => {
      var fa = pcbdata.bom.fields[a[0][1]][fieldIndex];
      var fb = pcbdata.bom.fields[b[0][1]][fieldIndex];
      if (fa != fb) return fa > fb ? 1 : -1;
      else return 0;
    }
  }
  var referenceRegex = /(?<prefix>[^0-9]+)(?<number>[0-9]+)/;
  var compareRefs = (a, b) => {
    var ra = referenceRegex.exec(a);
    var rb = referenceRegex.exec(b);
    if (ra === null || rb === null) {
      if (a != b) return a > b ? 1 : -1;
      return 0;
    } else {
      if (ra.groups.prefix != rb.groups.prefix) {
        return ra.groups.prefix > rb.groups.prefix ? 1 : -1;
      }
      if (ra.groups.number != rb.groups.number) {
        return parseInt(ra.groups.number) > parseInt(rb.groups.number) ? 1 : -1;
      }
      return 0;
    }
  }
  if (settings.bommode == "netlist") {
    tr.appendChild(createColumnHeader("Net name", "bom-netname", (a, b) => {
      if (a > b) return -1;
      if (a < b) return 1;
      return 0;
    }));
    tr.appendChild(createColumnHeader("Color", "bom-color", (a, b) => {
      return 0;
    }));
  } else {
    // Filter hidden columns
    var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
    var valueIndex = config.fields.indexOf("Value");
    var footprintIndex = config.fields.indexOf("Footprint");
    columns.forEach((column) => {
      if (column === placeHolderColumn) {
        var n = 1;
        if (column === "checkboxes")
          n = settings.checkboxes.length;
        for (i = 0; i < n; i++) {
          td = placeHolderElements.shift();
          tr.appendChild(td);
        }
        return;
      } else if (column === "checkboxes") {
        for (var checkbox of settings.checkboxes) {
          th = createColumnHeader(
            checkbox, "bom-checkbox", checkboxCompareClosure(checkbox), true);
          tr.appendChild(th);
        }
      } else if (column === "References") {
        tr.appendChild(createColumnHeader("References", "references", (a, b) => {
          var i = 0;
          while (i < a.length && i < b.length) {
            if (a[i] != b[i]) return compareRefs(a[i][0], b[i][0]);
            i++;
          }
          return a.length - b.length;
        }));
      } else if (column === "Value") {
        tr.appendChild(createColumnHeader("Value", "value", (a, b) => {
          var ra = a[0][1], rb = b[0][1];
          return valueCompare(
            pcbdata.bom.parsedValues[ra], pcbdata.bom.parsedValues[rb],
            pcbdata.bom.fields[ra][valueIndex], pcbdata.bom.fields[rb][valueIndex]);
        }));
        return;
      } else if (column === "Footprint") {
        tr.appendChild(createColumnHeader(
          "Footprint", "footprint", stringFieldCompareClosure(footprintIndex)));
      } else if (column === "Quantity" && settings.bommode == "grouped") {
        tr.appendChild(createColumnHeader("Quantity", "quantity", (a, b) => {
          return a.length - b.length;
        }));
      } else {
        // Other fields
        var i = config.fields.indexOf(column);
        if (i < 0)
          return;
        tr.appendChild(createColumnHeader(
          column, `field${i + 1}`, stringFieldCompareClosure(i)));
      }
    });
  }
  bomhead.appendChild(tr);
}

function populateBomBody(placeholderColumn = null, placeHolderElements = null) {
  const urlRegex = /^(https?:\/\/[^\s\/$.?#][^\s]*|file:\/\/([a-zA-Z]:|\/)[^\x00]+)$/;
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  highlightHandlers = [];
  footprintIndexToHandler = {};
  netsToHandler = {};
  currentHighlightedRowId = null;
  var first = true;
  var style = getComputedStyle(topmostdiv);
  var defaultNetColor = style.getPropertyValue('--track-color').trim();
  if (settings.bommode == "netlist") {
    bomtable = pcbdata.nets.slice();
  } else {
    switch (settings.canvaslayout) {
      case 'F':
        bomtable = pcbdata.bom.F.slice();
        break;
      case 'FB':
        bomtable = pcbdata.bom.both.slice();
        break;
      case 'B':
        bomtable = pcbdata.bom.B.slice();
        break;
    }
    if (settings.bommode == "ungrouped") {
      // expand bom table
      expandedTable = []
      for (var bomentry of bomtable) {
        for (var ref of bomentry) {
          expandedTable.push([ref]);
        }
      }
      bomtable = expandedTable;
    }
  }
  if (bomSortFunction) {
    bomtable = bomtable.sort(bomSortFunction);
  }
  for (var i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    var references = null;
    var netname = null;
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    if (settings.bommode == "netlist") {
      netname = bomentry;
      td = document.createElement("TD");
      td.innerHTML = highlightFilter(netname ? netname : "&lt;no net&gt;");
      tr.appendChild(td);
      var color = settings.netColors[netname] || defaultNetColor;
      td = document.createElement("TD");
      var colorBox = document.createElement("INPUT");
      colorBox.type = "color";
      colorBox.value = color;
      colorBox.onchange = netColorChangeHandler(netname);
      colorBox.onmouseup = netColorRightClick(netname);
      colorBox.oncontextmenu = (e) => e.preventDefault();
      td.appendChild(colorBox);
      td.classList.add("color-column");
      tr.appendChild(td);
    } else {
      if (reflookup) {
        references = findRefInEntry(bomentry);
        if (references.length == 0) {
          continue;
        }
      } else {
        references = bomentry;
      }
      // Filter hidden columns
      var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
      columns.forEach((column) => {
        if (column === placeholderColumn) {
          var n = 1;
          if (column === "checkboxes")
            n = settings.checkboxes.length;
          for (i = 0; i < n; i++) {
            td = placeHolderElements.shift();
            tr.appendChild(td);
          }
          return;
        } else if (column === "checkboxes") {
          for (var checkbox of settings.checkboxes) {
            if (checkbox) {
              td = document.createElement("TD");
              var input = document.createElement("input");
              input.type = "checkbox";
              input.onchange = createCheckboxChangeHandler(checkbox, references, tr);
              setBomCheckboxState(checkbox, input, references);
              if (input.checked && settings.markWhenChecked == checkbox) {
                tr.classList.add("checked");
              }
              td.appendChild(input);
              tr.appendChild(td);
            }
          }
        } else if (column === "References") {
          td = document.createElement("TD");
          td.innerHTML = highlightFilter(references.map(r => r[0]).join(", "));
          tr.appendChild(td);
        } else if (column === "Quantity" && settings.bommode == "grouped") {
          // Quantity
          td = document.createElement("TD");
          td.textContent = references.length;
          tr.appendChild(td);
        } else {
          // All the other fields
          var field_index = config.fields.indexOf(column)
          if (field_index < 0)
            return;
          var valueSet = new Set();
          references.map(r => r[1]).forEach((id) => valueSet.add(pcbdata.bom.fields[id][field_index]));
          td = document.createElement("TD");
          var output = new Array();
          for (let item of valueSet) {
            const visible = highlightFilter(String(item));
            if (typeof item === 'string' && item.match(urlRegex)) {
              output.push(`<a href="${item}" target="_blank">${visible}</a>`);
            } else {
              output.push(visible);
            }
          }
          td.innerHTML = output.join(", ");
          tr.appendChild(td);
        }
      });
    }
    bom.appendChild(tr);
    var handler = createRowHighlightHandler(tr.id, references, netname);
    tr.onmousemove = handler;
    highlightHandlers.push({
      id: tr.id,
      handler: handler,
    });
    if (references !== null) {
      for (var refIndex of references.map(r => r[1])) {
        footprintIndexToHandler[refIndex] = handler;
      }
    }
    if (netname !== null) {
      netsToHandler[netname] = handler;
    }
    if ((filter || reflookup) && first) {
      handler();
      first = false;
    }
  }
  EventHandler.emitEvent(
    IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, {
    filter: filter,
    reflookup: reflookup,
    checkboxes: settings.checkboxes,
    bommode: settings.bommode,
  });
}

function highlightPreviousRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[highlightHandlers.length - 1].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[0].id == currentHighlightedRowId) {
      highlightHandlers[highlightHandlers.length - 1].handler();
    } else {
      for (var i = 0; i < highlightHandlers.length - 1; i++) {
        if (highlightHandlers[i + 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function highlightNextRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[0].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[highlightHandlers.length - 1].id == currentHighlightedRowId) {
      highlightHandlers[0].handler();
    } else {
      for (var i = 1; i < highlightHandlers.length; i++) {
        if (highlightHandlers[i - 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function populateBomTable() {
  populateBomHeader();
  populateBomBody();
  setBomHandlers();
  resizableGrid(bomhead);
}

function footprintsClicked(footprintIndexes) {
  var lastClickedIndex = footprintIndexes.indexOf(lastClicked);
  for (var i = 1; i <= footprintIndexes.length; i++) {
    var refIndex = footprintIndexes[(lastClickedIndex + i) % footprintIndexes.length];
    if (refIndex in footprintIndexToHandler) {
      lastClicked = refIndex;
      footprintIndexToHandler[refIndex]();
      smoothScrollToRow(currentHighlightedRowId);
      break;
    }
  }
}

function netClicked(net) {
  if (net in netsToHandler) {
    netsToHandler[net]();
    smoothScrollToRow(currentHighlightedRowId);
  } else {
    clearHighlightedFootprints();
    highlightedNet = net;
    drawHighlights();
  }
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.setSizes([50, 50]);
      }
  }
  settings.canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  changeBomMode(settings.bommode);
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
  // Calculate board stats
  var fp_f = 0,
    fp_b = 0,
    pads_f = 0,
    pads_b = 0,
    pads_th = 0;
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    if (pcbdata.bom.skipped.includes(i)) continue;
    var mod = pcbdata.footprints[i];
    if (mod.layer == "F") {
      fp_f++;
    } else {
      fp_b++;
    }
    for (var pad of mod.pads) {
      if (pad.type == "th") {
        pads_th++;
      } else {
        if (pad.layers.includes("F")) {
          pads_f++;
        }
        if (pad.layers.includes("B")) {
          pads_b++;
        }
      }
    }
  }
  document.getElementById("stats-components-front").innerHTML = fp_f;
  document.getElementById("stats-components-back").innerHTML = fp_b;
  document.getElementById("stats-components-total").innerHTML = fp_f + fp_b;
  document.getElementById("stats-groups-front").innerHTML = pcbdata.bom.F.length;
  document.getElementById("stats-groups-back").innerHTML = pcbdata.bom.B.length;
  document.getElementById("stats-groups-total").innerHTML = pcbdata.bom.both.length;
  document.getElementById("stats-smd-pads-front").innerHTML = pads_f;
  document.getElementById("stats-smd-pads-back").innerHTML = pads_b;
  document.getElementById("stats-smd-pads-total").innerHTML = pads_f + pads_b;
  document.getElementById("stats-th-pads").innerHTML = pads_th;
  // Update version string
  document.getElementById("github-link").innerHTML = "InteractiveHtmlBom&nbsp;" +
    /^v\d+\.\d+/.exec(pcbdata.ibom_version)[0];
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'bom-only':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("topmostdiv").style.height = "";
      document.getElementById("topmostdiv").style.display = "block";
      break;
    case 'top-bottom':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("topmostdiv").style.height = "100%";
      document.getElementById("topmostdiv").style.display = "flex";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'left-right':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("topmostdiv").style.height = "100%";
      document.getElementById("topmostdiv").style.display = "flex";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  settings.bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(settings.canvaslayout);
}

function changeBomMode(mode) {
  document.getElementById("bom-grouped-btn").classList.remove("depressed");
  document.getElementById("bom-ungrouped-btn").classList.remove("depressed");
  document.getElementById("bom-netlist-btn").classList.remove("depressed");
  var chkbxs = document.getElementsByClassName("visibility_checkbox");

  switch (mode) {
    case 'grouped':
      document.getElementById("bom-grouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'ungrouped':
      document.getElementById("bom-ungrouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'netlist':
      document.getElementById("bom-netlist-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = true;
      }
  }

  writeStorage("bommode", mode);
  if (mode != settings.bommode) {
    settings.bommode = mode;
    bomSortFunction = null;
    currentSortColumn = null;
    currentSortOrder = null;
    clearHighlightedFootprints();
  }
  populateBomTable();
}

function focusFilterField() {
  focusInputField(document.getElementById("filter"));
}

function focusRefLookupField() {
  focusInputField(document.getElementById("reflookup"));
}

function toggleBomCheckbox(bomrowid, checkboxnum) {
  if (!bomrowid || checkboxnum > settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum].childNodes[0];
  checkbox.checked = !checkbox.checked;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function checkBomCheckbox(bomrowid, checkboxname) {
  var checkboxnum = 0;
  while (checkboxnum < settings.checkboxes.length &&
    settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
    checkboxnum++;
  }
  if (!bomrowid || checkboxnum >= settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum + 1].childNodes[0];
  checkbox.checked = true;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function setBomCheckboxes(value) {
  writeStorage("bomCheckboxes", value);
  settings.checkboxes = value.split(",").map((e) => e.trim()).filter((e) => e);
  prepCheckboxes();
  populateMarkWhenCheckedOptions();
  setMarkWhenChecked(settings.markWhenChecked);
}

function setMarkWhenChecked(value) {
  writeStorage("markWhenChecked", value);
  settings.markWhenChecked = value;
  markedFootprints.clear();
  for (var ref of (value ? getStoredCheckboxRefs(value) : [])) {
    markedFootprints.add(ref);
  }
  populateBomTable();
  drawHighlights();
}

function prepCheckboxes() {
  var table = document.getElementById("checkbox-stats");
  while (table.childElementCount > 1) {
    table.removeChild(table.lastChild);
  }
  if (settings.checkboxes.length) {
    table.style.display = "";
  } else {
    table.style.display = "none";
  }
  for (var checkbox of settings.checkboxes) {
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    td.innerHTML = checkbox;
    tr.appendChild(td);
    td = document.createElement("TD");
    td.id = "checkbox-stats-" + checkbox;
    var progressbar = document.createElement("div");
    progressbar.classList.add("bar");
    td.appendChild(progressbar);
    var text = document.createElement("div");
    text.classList.add("text");
    td.appendChild(text);
    tr.appendChild(td);
    table.appendChild(tr);
    updateCheckboxStats(checkbox);
  }
}

function populateMarkWhenCheckedOptions() {
  var container = document.getElementById("markWhenCheckedContainer");

  if (settings.checkboxes.length == 0) {
    container.parentElement.style.display = "none";
    return;
  }

  container.innerHTML = '';
  container.parentElement.style.display = "inline-block";

  function createOption(name, displayName) {
    var id = "markWhenChecked-" + name;

    var div = document.createElement("div");
    div.classList.add("radio-container");

    var input = document.createElement("input");
    input.type = "radio";
    input.name = "markWhenChecked";
    input.value = name;
    input.id = id;
    input.onchange = () => setMarkWhenChecked(name);
    div.appendChild(input);

    // Preserve the selected element when the checkboxes change
    if (name == settings.markWhenChecked) {
      input.checked = true;
    }

    var label = document.createElement("label");
    label.innerHTML = displayName;
    label.htmlFor = id;
    div.appendChild(label);

    container.appendChild(div);
  }
  createOption("", "None");
  for (var checkbox of settings.checkboxes) {
    createOption(checkbox, checkbox);
  }
}

function updateCheckboxStats(checkbox) {
  var checked = getStoredCheckboxRefs(checkbox).size;
  var total = pcbdata.footprints.length - pcbdata.bom.skipped.length;
  var percent = checked * 100.0 / total;
  var td = document.getElementById("checkbox-stats-" + checkbox);
  td.firstChild.style.width = percent + "%";
  td.lastChild.innerHTML = checked + "/" + total + " (" + Math.round(percent) + "%)";
}

function constrain(number, min, max) {
  return Math.min(Math.max(parseInt(number), min), max);
}

document.onkeydown = function (e) {
  switch (e.key) {
    case "n":
      if (document.activeElement.type == "text") {
        return;
      }
      if (currentHighlightedRowId !== null) {
        checkBomCheckbox(currentHighlightedRowId, "placed");
        highlightNextRow();
        e.preventDefault();
      }
      break;
    case "ArrowUp":
      highlightPreviousRow();
      e.preventDefault();
      break;
    case "ArrowDown":
      highlightNextRow();
      e.preventDefault();
      break;
    case "ArrowLeft":
    case "ArrowRight":
      if (document.activeElement.type != "text") {
        e.preventDefault();
        let boardRotationElement = document.getElementById("boardRotation")
        settings.boardRotation = parseInt(boardRotationElement.value);  // degrees / 5
        if (e.key == "ArrowLeft") {
          settings.boardRotation += 3;  // 15 degrees
        }
        else {
          settings.boardRotation -= 3;
        }
        settings.boardRotation = constrain(settings.boardRotation, boardRotationElement.min, boardRotationElement.max);
        boardRotationElement.value = settings.boardRotation
        setBoardRotation(settings.boardRotation);
      }
      break;
    default:
      break;
  }
  if (e.altKey) {
    switch (e.key) {
      case "f":
        focusFilterField();
        e.preventDefault();
        break;
      case "r":
        focusRefLookupField();
        e.preventDefault();
        break;
      case "z":
        changeBomLayout("bom-only");
        e.preventDefault();
        break;
      case "x":
        changeBomLayout("left-right");
        e.preventDefault();
        break;
      case "c":
        changeBomLayout("top-bottom");
        e.preventDefault();
        break;
      case "v":
        changeCanvasLayout("F");
        e.preventDefault();
        break;
      case "b":
        changeCanvasLayout("FB");
        e.preventDefault();
        break;
      case "n":
        changeCanvasLayout("B");
        e.preventDefault();
        break;
      default:
        break;
    }
    if (e.key >= '1' && e.key <= '9') {
      toggleBomCheckbox(currentHighlightedRowId, parseInt(e.key));
      e.preventDefault();
    }
  }
}

function hideNetlistButton() {
  document.getElementById("bom-ungrouped-btn").classList.remove("middle-button");
  document.getElementById("bom-ungrouped-btn").classList.add("right-most-button");
  document.getElementById("bom-netlist-btn").style.display = "none";
}

function topToggle() {
  var top = document.getElementById("top");
  var toptoggle = document.getElementById("toptoggle");
  if (top.style.display === "none") {
    top.style.display = "flex";
    toptoggle.classList.remove("flipped");
  } else {
    top.style.display = "none";
    toptoggle.classList.add("flipped");
  }
}

window.onload = function (e) {
  initUtils();
  initRender();
  initStorage();
  initDefaults();
  cleanGutters();
  populateMetadata();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  filter = "";
  reflookup = "";
  if (!("nets" in pcbdata)) {
    hideNetlistButton();
  }
  initDone = true;
  setBomCheckboxes(document.getElementById("bomCheckboxes").value);
  // Triggers render
  changeBomLayout(settings.bomlayout);

  // Users may leave fullscreen without touching the checkbox. Uncheck.
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement)
      document.getElementById('fullscreenCheckbox').checked = false;
  });
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

///////////////////////////////////////////////
// EventHandler.registerCallback(IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, () => {
//     for(var tr of bom.childNodes) {
//         tr.onclick = tr.onmousemove;
//         tr.onmousemove = null;
//     };
// });

///////////////////////////////////////////////
  </script>
</head>

<body>

<div id="topmostdiv" class="topmostdiv">
  <div id="top">
    <div id="fileinfodiv">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Company
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="bomcontrols">
      <div class="hideonprint menu">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top" style="width: calc(50% - 18px)">
            <input id="darkmodeCheckbox" type="checkbox" onchange="setDarkMode(this.checked)">
            Dark mode
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label menu-label-top" style="width: calc(50% - 17px); border-left: 0;">
            <input id="fullscreenCheckbox" type="checkbox" onchange="setFullscreen(this.checked)">
            Full Screen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="fabricationCheckbox" type="checkbox" checked onchange="fabricationVisible(this.checked)">
            Fab layer
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Silkscreen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="referencesCheckbox" type="checkbox" checked onchange="referencesVisible(this.checked)">
            References
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="valuesCheckbox" type="checkbox" checked onchange="valuesVisible(this.checked)">
            Values
          </label>
          <div id="tracksAndZonesCheckboxes">
            <label class="menu-label" style="width: calc(50% - 18px)">
              <input id="tracksCheckbox" type="checkbox" checked onchange="tracksVisible(this.checked)">
              Tracks
            </label><!-- This comment eats space! All of it!
            --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
              <input id="zonesCheckbox" type="checkbox" checked onchange="zonesVisible(this.checked)">
              Zones
            </label>
          </div>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="padsCheckbox" type="checkbox" checked onchange="padsVisible(this.checked)">
            Pads
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="dnpOutlineCheckbox" type="checkbox" checked onchange="dnpOutline(this.checked)">
            DNP outlined
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            Highlight first pin
            <form id="highlightpin1">
              <div class="flexbox">
                <label>
                  <input type="radio" name="highlightpin1" value="none" onchange="setHighlightPin1('none')">
                  None
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="all" onchange="setHighlightPin1('all')">
                  All
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="selected" onchange="setHighlightPin1('selected')">
                  Selected
                </label>
              </div>
            </form>
          </label>
          <label class="menu-label">
            <span>Board rotation</span>
            <span style="float: right"><span id="rotationDegree">0</span>&#176;</span>
            <input id="boardRotation" type="range" min="-36" max="36" value="0" class="slider" oninput="setBoardRotation(this.value)">
          </label>
          <label class="menu-label">
            <input id="offsetBackRotationCheckbox" type="checkbox" onchange="setOffsetBackRotation(this.checked)">
            Offset back rotation
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Mark when checked</div>
            <div id="markWhenCheckedContainer"></div>
          </label>
          <label class="menu-label">
            <span class="shameless-plug">
              <span>Created using</span>
              <a id="github-link" target="blank" href="https://github.com/openscopeproject/InteractiveHtmlBom">InteractiveHtmlBom</a>
              <a target="blank" title="Mouse and keyboard help" href="https://github.com/openscopeproject/InteractiveHtmlBom/wiki/Usage#bom-page-mouse-actions" style="text-decoration: none;"><label class="help-link">?</label></a>
            </span>
          </label>
        </div>
      </div>
      <div class="button-container hideonprint">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('bom-only')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('left-right')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('top-bottom')"
                title="BOM top, drawings bot"></button>
      </div>
      <div class="button-container hideonprint">
        <button id="bom-grouped-btn" class="left-most-button" onclick="changeBomMode('grouped')"
                title="Grouped BOM"></button>
        <button id="bom-ungrouped-btn" class="middle-button" onclick="changeBomMode('ungrouped')"
                title="Ungrouped BOM"></button>
        <button id="bom-netlist-btn" class="right-most-button" onclick="changeBomMode('netlist')"
                title="Netlist"></button>
      </div>
      <div class="hideonprint menu">
        <button class="statsbtn"></button>
        <div class="menu-content">
          <table class="stats">
            <tbody>
              <tr>
                <td width="40%">Board stats</td>
                <td>Front</td>
                <td>Back</td>
                <td>Total</td>
              </tr>
              <tr>
                <td>Components</td>
                <td id="stats-components-front">~</td>
                <td id="stats-components-back">~</td>
                <td id="stats-components-total">~</td>
              </tr>
              <tr>
                <td>Groups</td>
                <td id="stats-groups-front">~</td>
                <td id="stats-groups-back">~</td>
                <td id="stats-groups-total">~</td>
              </tr>
              <tr>
                <td>SMD pads</td>
                <td id="stats-smd-pads-front">~</td>
                <td id="stats-smd-pads-back">~</td>
                <td id="stats-smd-pads-total">~</td>
              </tr>
              <tr>
                <td>TH pads</td>
                <td colspan=3 id="stats-th-pads">~</td>
              </tr>
            </tbody>
          </table>
          <table class="stats">
            <col width="40%"/><col />
            <tbody id="checkbox-stats">
              <tr>
                <td colspan=2 style="border-top: 0">Checkboxes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="hideonprint menu">
        <button class="iobtn"></button>
        <div class="menu-content">
          <div class="menu-label menu-label-top">
            <div style="margin-left: 5px;">Save board image</div>
            <div class="flexbox">
              <input id="render-save-width" class="menu-textbox" type="text" value="1000" placeholder="Width"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
              <span>X</span>
              <input id="render-save-height" class="menu-textbox" type="text" value="1000" placeholder="Height"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
            </div>
            <label>
              <input id="render-save-transparent" type="checkbox">
              Transparent background
            </label>
            <div class="flexbox">
              <button class="savebtn" onclick="saveImage('F')">Front</button>
              <button class="savebtn" onclick="saveImage('B')">Back</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Config and checkbox state</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveSettings()">Export</button>
              <button class="savebtn" onclick="loadSettings()">Import</button>
              <button class="savebtn" onclick="resetSettings()">Reset</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Save bom table as</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveBomTable('csv')">csv</button>
              <button class="savebtn" onclick="saveBomTable('txt')">txt</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="topdivider">
    <div class="hideonprint">
      <div id="toptoggle" onclick="topToggle()">︽</div>
    </div>
  </div>
  <div id="bot" class="split" style="flex: 1 1">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input id="reflookup" class="textbox searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input id="filter" class="textbox searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
        <div class="button-container hideonprint" style="float: left; margin: 0;">
          <button id="copy" title="Copy bom table to clipboard"
               onclick="saveBomTable('clipboard')"></button>
        </div>
      </div>
      <div id="dbg"></div>
      <table class="bom" id="bomtable">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
